mads 2.0.6 build 58 (28 Jan 17)
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\aaaa1.asm
     1 					ICL 'macro.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm
     1 				.MACRO REG_PUSH 
     2 					pha
     3 					txa
     4 					pha
     5 					tya
     6 					pha
     7 				.ENDM
     8
     9 				.MACRO REG_PULL
    10 					pla
    11 					tay
    12 					pla
    13 					tax
    14 					pla
    15 				.ENDM
    16
    17 				.MACRO SLEEP frames
    18 					lda RTCLOCK_0
    19 					add #:frames
    20 				SLEEP_LOOP:
    21 					cmp RTCLOCK_0
    22 					bne SLEEP_LOOP
    23 				.ENDM
    24
    25 				.MACRO LINE_SPACE_9_CYCLES
    26 					nop
    27 					nop
    28 					nop
    29 					sta bar_color20	; 3 cycles
    30 				.ENDM
    31
    32 				.MACRO LINE_SPACE_10_CYCLES
    33 					nop
    34 					nop
    35 					nop
    36 					nop
    37 					nop
    38 				.ENDM
    39
    40 				.MACRO LINE_SPACE_11_CYCLES
    41 					nop
    42 					nop
    43 					nop
    44 					nop
    45 					sta bar_color20	; 3 cycles
    46 				.ENDM
    47
    48 				.MACRO LINE_WAIT
    49 					sta WSYNC	;WAIT
    50 				.ENDM
    51
    52 				.MACRO LINE_COLOR_CALC
    53 					dex
    54 					dey
    55 				.ENDM
    56
    57 				.MACRO LINE_NOP_HALF
    58 					LINE_WAIT
    59 				
    60 					;; 4 nops
    61 					LINE_COLOR_CALC
    62 					
    63 					LINE_NOP_SPACE_1
    64 					
    65 					sta bar_color20	; 3 cycles
    66 					stx DLI_PAPER	; 4 cycles
    67 				;	stx DLI_PEN	; 4 cycles
    68 					LINE_NOP_SPACE_2
    69 					sty DLI_PAPER	; 4 cycles
    70 				;	sty DLI_PEN	; 4 cycles
    71 				.ENDM
    72
    73 				.MACRO LINE_NOP_NORMAL
    74 					LINE_WAIT
    75 					LINE_COLOR_CALC
    76 					sty COLPM0
    77 					sty COLPM1
    78 					stx COLPM2
    79 					stx COLPM3
    80 					stx DLI_PAPER	; 4 cycles
    81 					LINE_SPACE_10_CYCLES
    82 					nop
    83 					sty DLI_PAPER	; 4 cycles
    84 				.ENDM
    85
    86 				.MACRO LINE_NOP_SHORT
    87 					LINE_WAIT
    88 					LINE_COLOR_CALC
    89 					sty COLPM0
    90 					sty COLPM1
    91 					stx COLPM2
    92 					stx COLPM3
    93 					stx DLI_PAPER	; 4 cycles
    94 					LINE_SPACE_10_CYCLES
    95 					sty DLI_PAPER	; 4 cycles
    96 				.ENDM
    97
    98 				.MACRO LINE_NOP_LAST
    99 					LINE_WAIT
   100 					stx DLI_PAPER	; 4 cycles
   101 					lda #1
   102 					sta COLPM0
   103 					sta COLPM1
   104 					sta COLPM2
   105 					sta COLPM3
   106 					LINE_SPACE_10_CYCLES
   107 					nop
   108 					sty DLI_PAPER	; 4 cycles
   109 				.ENDM
   110
   111 				.MACRO DLI_ENABLE handler
   112 					mwa #:handler VDSLST
   113 					lda #$c0
   114 					sta NMIEN
   115 				.ENDM
   116
   117 				.MACRO DLI_DISABLE
   118 					lda #$40
   119 					sta NMIEN
   120 				.ENDM
     2
     3 					org $2000
     4
     5 					.proc main
     6 					
     7 FFFF> 2000-2562> 20 98 + 	jsr dl_set_mode	
     8 2003 20 0D 20			jsr zx
     9
    10 2006 20 98 39			jsr dl_set_mode
    11 2009 20 07 68			jsr part1
    12 					
    13 200C 60				rts
    14
    15 					.endp
    16 					
    17 200D				ICL 'zx.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx.asm
     1 200D			zx:
     2 200D A9 00			lda #COLOR_BLACK     
     3 200F 8D C5 02			sta GR8_PEN
     4 2012 A9 0E			lda #COLOR_WHITE     
     5 2014 8D C6 02			sta GR8_PAPER
     6 2017 A9 0E			lda #COLOR_WHITE     
     7 2019 8D C8 02			sta GR8_FRAME
     8
     9 201C 20 46 25			jsr screen_set_write_1
    10 201F 20 3B 25			jsr screen_set_read_1
    11 					
    12 2022			zx_loop:
    13
    14 2022				ICL "zx_boot.asm"
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     1 2022 A9 0E			lda #COLOR_WHITE
     2 2024 8D C8 02			sta GR8_FRAME
     3 2027 20 14 25			jsr screen_fill
     4 202A				SLEEP 50
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 202A A5 14			lda RTCLOCK_0
     2 202C 18 69 32			add #50
     3 202F			SLEEP_LOOP:
     4 202F C5 14			cmp RTCLOCK_0
     5 2031 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     5 2033 20 ED 24			jsr screen_clear
     6 					
     7 2036				ZX_PRINT 96 0 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2036 A9 60			lda #96
     2 2038 A2 00			ldx #0
     3 203A A0 17			ldy #23
     4 203C 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     8 203F				ZX_PRINT '2'-32 2 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 203F A9 12			lda #'2'-32
     2 2041 A2 02			ldx #2
     3 2043 A0 17			ldy #23
     4 2045 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     9 2048				ZX_PRINT '0'-32 3 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2048 A9 10			lda #'0'-32
     2 204A A2 03			ldx #3
     3 204C A0 17			ldy #23
     4 204E 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    10 2051				ZX_PRINT '1'-32 4 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2051 A9 11			lda #'1'-32
     2 2053 A2 04			ldx #4
     3 2055 A0 17			ldy #23
     4 2057 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    11 205A				ZX_PRINT '8'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 205A A9 18			lda #'8'-32
     2 205C A2 05			ldx #5
     3 205E A0 17			ldy #23
     4 2060 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    12
    13 2063				ZX_PRINT 'G'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2063 A9 27			lda #'G'-32
     2 2065 A2 07			ldx #7
     3 2067 A0 17			ldy #23
     4 2069 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    14 206C				ZX_PRINT 'o'-32 8 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 206C A9 4F			lda #'o'-32
     2 206E A2 08			ldx #8
     3 2070 A0 17			ldy #23
     4 2072 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    15 2075				ZX_PRINT 'm'-32 9 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2075 A9 4D			lda #'m'-32
     2 2077 A2 09			ldx #9
     3 2079 A0 17			ldy #23
     4 207B 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    16 207E				ZX_PRINT 'i'-32 10 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 207E A9 49			lda #'i'-32
     2 2080 A2 0A			ldx #10
     3 2082 A0 17			ldy #23
     4 2084 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    17 2087				ZX_PRINT 'b'-32 11 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2087 A9 42			lda #'b'-32
     2 2089 A2 0B			ldx #11
     3 208B A0 17			ldy #23
     4 208D 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    18 2090				ZX_PRINT 'o'-32 12 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2090 A9 4F			lda #'o'-32
     2 2092 A2 0C			ldx #12
     3 2094 A0 17			ldy #23
     4 2096 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    19 2099				ZX_PRINT 'y'-32 13 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2099 A9 59			lda #'y'-32
     2 209B A2 0D			ldx #13
     3 209D A0 17			ldy #23
     4 209F 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    20
    21 20A2				ZX_PRINT 'R'-32 15 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20A2 A9 32			lda #'R'-32
     2 20A4 A2 0F			ldx #15
     3 20A6 A0 17			ldy #23
     4 20A8 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    22 20AB				ZX_PRINT 'e'-32 16 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20AB A9 45			lda #'e'-32
     2 20AD A2 10			ldx #16
     3 20AF A0 17			ldy #23
     4 20B1 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    23 20B4				ZX_PRINT 's'-32 17 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20B4 A9 53			lda #'s'-32
     2 20B6 A2 11			ldx #17
     3 20B8 A0 17			ldy #23
     4 20BA 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    24 20BD				ZX_PRINT 'e'-32 18 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20BD A9 45			lda #'e'-32
     2 20BF A2 12			ldx #18
     3 20C1 A0 17			ldy #23
     4 20C3 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    25 20C6				ZX_PRINT 'a'-32 19 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20C6 A9 41			lda #'a'-32
     2 20C8 A2 13			ldx #19
     3 20CA A0 17			ldy #23
     4 20CC 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    26 20CF				ZX_PRINT 'r'-32 20 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20CF A9 52			lda #'r'-32
     2 20D1 A2 14			ldx #20
     3 20D3 A0 17			ldy #23
     4 20D5 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    27 20D8				ZX_PRINT 'c'-32 21 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20D8 A9 43			lda #'c'-32
     2 20DA A2 15			ldx #21
     3 20DC A0 17			ldy #23
     4 20DE 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    28 20E1				ZX_PRINT 'h'-32 22 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20E1 A9 48			lda #'h'-32
     2 20E3 A2 16			ldx #22
     3 20E5 A0 17			ldy #23
     4 20E7 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    29
    30 20EA				ZX_PRINT 'L'-32 24 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20EA A9 2C			lda #'L'-32
     2 20EC A2 18			ldx #24
     3 20EE A0 17			ldy #23
     4 20F0 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    31 20F3				ZX_PRINT 't'-32 25 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20F3 A9 54			lda #'t'-32
     2 20F5 A2 19			ldx #25
     3 20F7 A0 17			ldy #23
     4 20F9 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    32 20FC				ZX_PRINT 'd'-32 26 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20FC A9 44			lda #'d'-32
     2 20FE A2 1A			ldx #26
     3 2100 A0 17			ldy #23
     4 2102 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    33 					
    34 2105				SLEEP 50
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2105 A5 14			lda RTCLOCK_0
     2 2107 18 69 32			add #50
     3 210A			SLEEP_LOOP:
     4 210A C5 14			cmp RTCLOCK_0
     5 210C D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    35
    36 210E 20 ED 24			jsr screen_clear
    37 					
    38 2111				ZX_PRINT 'L'-32 0 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2111 A9 2C			lda #'L'-32
     2 2113 A2 00			ldx #0
     3 2115 A0 17			ldy #23
     4 2117 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    39 211A				ZX_PRINT 'O'-32 1 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 211A A9 2F			lda #'O'-32
     2 211C A2 01			ldx #1
     3 211E A0 17			ldy #23
     4 2120 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    40 2123				ZX_PRINT 'A'-32 2 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2123 A9 21			lda #'A'-32
     2 2125 A2 02			ldx #2
     3 2127 A0 17			ldy #23
     4 2129 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    41 212C				ZX_PRINT 'D'-32 3 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 212C A9 24			lda #'D'-32
     2 212E A2 03			ldx #3
     3 2130 A0 17			ldy #23
     4 2132 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    42 2135				ZX_PRINT ' '-32 4 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2135 A9 00			lda #' '-32
     2 2137 A2 04			ldx #4
     3 2139 A0 17			ldy #23
     4 213B 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    43 213E				ZX_PRINT_INV 'L'-32 5 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 213E A9 2C			lda #'L'-32
     2 2140 A2 05			ldx #5
     3 2142 A0 17			ldy #23
     4 2144 20 F4 23			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    44 2147				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2147 A5 14			lda RTCLOCK_0
     2 2149 18 69 19			add #25
     3 214C			SLEEP_LOOP:
     4 214C C5 14			cmp RTCLOCK_0
     5 214E D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    45 2150				ZX_PRINT 'L'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2150 A9 2C			lda #'L'-32
     2 2152 A2 05			ldx #5
     3 2154 A0 17			ldy #23
     4 2156 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    46 2159				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2159 A5 14			lda RTCLOCK_0
     2 215B 18 69 19			add #25
     3 215E			SLEEP_LOOP:
     4 215E C5 14			cmp RTCLOCK_0
     5 2160 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    47 2162				ZX_PRINT_INV 'L'-32 5 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2162 A9 2C			lda #'L'-32
     2 2164 A2 05			ldx #5
     3 2166 A0 17			ldy #23
     4 2168 20 F4 23			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    48 216B				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 216B A5 14			lda RTCLOCK_0
     2 216D 18 69 19			add #25
     3 2170			SLEEP_LOOP:
     4 2170 C5 14			cmp RTCLOCK_0
     5 2172 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    49 2174				ZX_PRINT 'L'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2174 A9 2C			lda #'L'-32
     2 2176 A2 05			ldx #5
     3 2178 A0 17			ldy #23
     4 217A 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    50 217D				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 217D A5 14			lda RTCLOCK_0
     2 217F 18 69 19			add #25
     3 2182			SLEEP_LOOP:
     4 2182 C5 14			cmp RTCLOCK_0
     5 2184 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    51 2186				ZX_PRINT '"'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2186 A9 02			lda #'"'-32
     2 2188 A2 05			ldx #5
     3 218A A0 17			ldy #23
     4 218C 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    52 218F				ZX_PRINT_INV 'L'-32 6 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 218F A9 2C			lda #'L'-32
     2 2191 A2 06			ldx #6
     3 2193 A0 17			ldy #23
     4 2195 20 F4 23			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    53 2198				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2198 A5 14			lda RTCLOCK_0
     2 219A 18 69 19			add #25
     3 219D			SLEEP_LOOP:
     4 219D C5 14			cmp RTCLOCK_0
     5 219F D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    54 21A1				ZX_PRINT '"'-32 6 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21A1 A9 02			lda #'"'-32
     2 21A3 A2 06			ldx #6
     3 21A5 A0 17			ldy #23
     4 21A7 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    55 21AA				ZX_PRINT_INV 'L'-32 7 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21AA A9 2C			lda #'L'-32
     2 21AC A2 07			ldx #7
     3 21AE A0 17			ldy #23
     4 21B0 20 F4 23			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    56 21B3				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21B3 A5 14			lda RTCLOCK_0
     2 21B5 18 69 19			add #25
     3 21B8			SLEEP_LOOP:
     4 21B8 C5 14			cmp RTCLOCK_0
     5 21BA D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    57 21BC				ZX_PRINT 'L'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21BC A9 2C			lda #'L'-32
     2 21BE A2 07			ldx #7
     3 21C0 A0 17			ldy #23
     4 21C2 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    58 21C5				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21C5 A5 14			lda RTCLOCK_0
     2 21C7 18 69 19			add #25
     3 21CA			SLEEP_LOOP:
     4 21CA C5 14			cmp RTCLOCK_0
     5 21CC D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    59 21CE				ZX_PRINT_INV 'L'-32 7 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21CE A9 2C			lda #'L'-32
     2 21D0 A2 07			ldx #7
     3 21D2 A0 17			ldy #23
     4 21D4 20 F4 23			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    60 21D7				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21D7 A5 14			lda RTCLOCK_0
     2 21D9 18 69 19			add #25
     3 21DC			SLEEP_LOOP:
     4 21DC C5 14			cmp RTCLOCK_0
     5 21DE D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    61 21E0				ZX_PRINT 'L'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21E0 A9 2C			lda #'L'-32
     2 21E2 A2 07			ldx #7
     3 21E4 A0 17			ldy #23
     4 21E6 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    62 21E9				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21E9 A5 14			lda RTCLOCK_0
     2 21EB 18 69 19			add #25
     3 21EE			SLEEP_LOOP:
     4 21EE C5 14			cmp RTCLOCK_0
     5 21F0 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    63 					
    64 					
    65 					
    15 21F2				ICL "zx_load.asm"	
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     1 21F2 20 ED 24			jsr screen_clear
     2 					
     3 21F5				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21F5 A5 14			lda RTCLOCK_0
     2 21F7 18 69 19			add #25
     3 21FA			SLEEP_LOOP:
     4 21FA C5 14			cmp RTCLOCK_0
     5 21FC D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     4 21FE A9 AC			lda #COLOR_CYAN
     5 2200 8D C8 02			sta GR8_FRAME
     6 2203				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2203 A5 14			lda RTCLOCK_0
     2 2205 18 69 19			add #25
     3 2208			SLEEP_LOOP:
     4 2208 C5 14			cmp RTCLOCK_0
     5 220A D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     7 220C A9 0E			lda #COLOR_WHITE
     8 220E 8D C8 02			sta GR8_FRAME
     9 					
    10 2211				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2211 A5 14			lda RTCLOCK_0
     2 2213 18 69 19			add #25
     3 2216			SLEEP_LOOP:
     4 2216 C5 14			cmp RTCLOCK_0
     5 2218 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    11 221A A9 AC			lda #COLOR_CYAN
    12 221C 8D C8 02			sta GR8_FRAME
    13 221F				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 221F A5 14			lda RTCLOCK_0
     2 2221 18 69 19			add #25
     3 2224			SLEEP_LOOP:
     4 2224 C5 14			cmp RTCLOCK_0
     5 2226 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    14 2228 A9 0E			lda #COLOR_WHITE
    15 222A 8D C8 02			sta GR8_FRAME
    16
    17 222D				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 222D A5 14			lda RTCLOCK_0
     2 222F 18 69 19			add #25
     3 2232			SLEEP_LOOP:
     4 2232 C5 14			cmp RTCLOCK_0
     5 2234 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    18 2236 A9 AC			lda #COLOR_CYAN
    19 2238 8D C8 02			sta GR8_FRAME
    20
    21 223B				DLI_ENABLE zx_dli_header_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 223B A9 40 8D 00 02 A9 + 	mwa #ZX_DLI_HEADER_BLOCK VDSLST
     2 2245 A9 C0			lda #$c0
     3 2247 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    22 224A				SLEEP 175
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 224A A5 14			lda RTCLOCK_0
     2 224C 18 69 AF			add #175
     3 224F			SLEEP_LOOP:
     4 224F C5 14			cmp RTCLOCK_0
     5 2251 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    23 2253				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2253 A9 40			lda #$40
     2 2255 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    24 					
    25 2258				ZX_PRINT 'P'-32 0 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2258 A9 30			lda #'P'-32
     2 225A A2 00			ldx #0
     3 225C A0 00			ldy #0
     4 225E 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    26 2261				ZX_PRINT 'r'-32 1 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2261 A9 52			lda #'r'-32
     2 2263 A2 01			ldx #1
     3 2265 A0 00			ldy #0
     4 2267 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    27 226A				ZX_PRINT 'o'-32 2 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 226A A9 4F			lda #'o'-32
     2 226C A2 02			ldx #2
     3 226E A0 00			ldy #0
     4 2270 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    28 2273				ZX_PRINT 'g'-32 3 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2273 A9 47			lda #'g'-32
     2 2275 A2 03			ldx #3
     3 2277 A0 00			ldy #0
     4 2279 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    29 227C				ZX_PRINT 'r'-32 4 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 227C A9 52			lda #'r'-32
     2 227E A2 04			ldx #4
     3 2280 A0 00			ldy #0
     4 2282 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    30 2285				ZX_PRINT 'a'-32 5 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2285 A9 41			lda #'a'-32
     2 2287 A2 05			ldx #5
     3 2289 A0 00			ldy #0
     4 228B 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    31 228E				ZX_PRINT 'm'-32 6 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 228E A9 4D			lda #'m'-32
     2 2290 A2 06			ldx #6
     3 2292 A0 00			ldy #0
     4 2294 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    32 2297				ZX_PRINT ':'-32 7 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2297 A9 1A			lda #':'-32
     2 2299 A2 07			ldx #7
     3 229B A0 00			ldy #0
     4 229D 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    33 					
    34 22A0				ZX_PRINT 'R'-32 9 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22A0 A9 32			lda #'R'-32
     2 22A2 A2 09			ldx #9
     3 22A4 A0 00			ldy #0
     4 22A6 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    35 22A9				ZX_PRINT 'A'-32 10 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22A9 A9 21			lda #'A'-32
     2 22AB A2 0A			ldx #10
     3 22AD A0 00			ldy #0
     4 22AF 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    36 22B2				ZX_PRINT 'I'-32 11 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22B2 A9 29			lda #'I'-32
     2 22B4 A2 0B			ldx #11
     3 22B6 A0 00			ldy #0
     4 22B8 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    37 22BB				ZX_PRINT 'N'-32 12 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22BB A9 2E			lda #'N'-32
     2 22BD A2 0C			ldx #12
     3 22BF A0 00			ldy #0
     4 22C1 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    38 22C4				ZX_PRINT 'B'-32 13 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22C4 A9 22			lda #'B'-32
     2 22C6 A2 0D			ldx #13
     3 22C8 A0 00			ldy #0
     4 22CA 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    39 22CD				ZX_PRINT 'O'-32 14 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22CD A9 2F			lda #'O'-32
     2 22CF A2 0E			ldx #14
     3 22D1 A0 00			ldy #0
     4 22D3 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    40 22D6				ZX_PRINT 'W'-32 15 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22D6 A9 37			lda #'W'-32
     2 22D8 A2 0F			ldx #15
     3 22DA A0 00			ldy #0
     4 22DC 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    41 22DF				ZX_PRINT 'O'-32 16 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22DF A9 2F			lda #'O'-32
     2 22E1 A2 10			ldx #16
     3 22E3 A0 00			ldy #0
     4 22E5 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    42 22E8				ZX_PRINT 'M'-32 17 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22E8 A9 2D			lda #'M'-32
     2 22EA A2 11			ldx #17
     3 22EC A0 00			ldy #0
     4 22EE 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    43 22F1				ZX_PRINT 'I'-32 18 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22F1 A9 29			lda #'I'-32
     2 22F3 A2 12			ldx #18
     3 22F5 A0 00			ldy #0
     4 22F7 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    44 22FA				ZX_PRINT 'T'-32 19 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22FA A9 34			lda #'T'-32
     2 22FC A2 13			ldx #19
     3 22FE A0 00			ldy #0
     4 2300 20 30 23			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    45 2303				SLEEP 100
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2303 A5 14			lda RTCLOCK_0
     2 2305 18 69 64			add #100
     3 2308			SLEEP_LOOP:
     4 2308 C5 14			cmp RTCLOCK_0
     5 230A D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    46 					
    47 230C				DLI_ENABLE zx_dli_data_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 230C A9 7A 8D 00 02 A9 + 	mwa #ZX_DLI_DATA_BLOCK VDSLST
     2 2316 A9 C0			lda #$c0
     3 2318 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    48 231B				SLEEP 175
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 231B A5 14			lda RTCLOCK_0
     2 231D 18 69 AF			add #175
     3 2320			SLEEP_LOOP:
     4 2320 C5 14			cmp RTCLOCK_0
     5 2322 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    49 2324				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2324 A9 40			lda #$40
     2 2326 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    50 					
    51 					
    52 					
    53 					
    16 					
    17 2329 60				rts
    18 				;	jmp zx_loop
    19 					
    20 				;	PM_SHOW
    21
    22 					
    18 232A				ICL 'zx_func.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
     1 232A 00 00		zx_print_x: dta 0,0
     2 232C 00 00		zx_print_y: dta 0,0
     3 232E 00 00		zx_print_a: dta 0,0
     4
     5 2330			zx_print_func:
     6 2330 8E 2A 23			stx zx_print_x 
     7 2333 8C 2C 23			sty zx_print_y 
     8 2336 8D 2E 23			sta zx_print_a 
     9
    10 2339 A9 00 85 ED A9 70 + 	mwa #image_data_zx_font src
    11 2341 A5 F3 85 EF A5 F4 + 	mwa screen_adr dst
    12 					
    13 2349 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    14 2358 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    15 2367 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    16 2376 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    17 2385 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    18 2394 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    19 23A3 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    20 23B2 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    21 					
    22 23C1 A5 F0			lda dst+1
    23 23C3 6D 2C 23			adc zx_print_y
    24 23C6 85 F0			sta dst+1
    25
    26 23C8 18 A5 EF 6D 2A 23 + 	ADW dst zx_print_x
    27 					
    28 23D7 A2 08			ldx #8
    29 23D9 A0 00			ldy #0
    30 23DB			zx_print_func_loop:
    31 23DB B1 ED			lda (src),y
    32 23DD 91 EF			sta (dst),y
    33 23DF E6 ED D0 02 E6 EE		INW src
    34 23E5 18 A5 EF 69 20 85 + 	ADW dst #32
    35 23F0 CA				dex
    36 23F1 D0 E8			bne zx_print_func_loop
    37
    38 23F3 60				rts
    39
    40 				.MACRO ZX_PRINT letter position_x position_y
    41 					lda #:letter
    42 					ldx #:position_x
    43 					ldy #:position_y
    44 					jsr zx_print_func
    45 				.ENDM
    46
    47 23F4			zx_print_inv_func:
    48 23F4 8D 2E 23			sta zx_print_a 
    49 23F7 8E 2A 23			stx zx_print_x 
    50 23FA 8C 2C 23			sty zx_print_y 
    51
    52 23FD A9 00 85 ED A9 70 + 	mwa #image_data_zx_font src
    53 2405 A5 F3 85 EF A5 F4 + 	mwa screen_adr dst
    54 					
    55 240D 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    56 241C 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    57 242B 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    58 243A 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    59 2449 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    60 2458 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    61 2467 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    62 2476 18 A5 ED 6D 2E 23 + 	ADW src zx_print_a
    63 					
    64 2485 A5 F0			lda dst+1
    65 2487 6D 2C 23			adc zx_print_y
    66 248A 85 F0			sta dst+1 
    67
    68 248C 18 A5 EF 6D 2A 23 + 	ADW dst zx_print_x
    69 					
    70 249B A2 08			ldx #8
    71 249D A0 00			ldy #0
    72 249F			zx_print_inv_func_loop:
    73 249F B1 ED			lda (src),y
    74 24A1 49 FF			eor #$ff
    75 24A3 91 EF			sta (dst),y
    76 24A5 E6 ED D0 02 E6 EE		INW src
    77 24AB 18 A5 EF 69 20 85 + 	ADW dst #32
    78 24B6 CA				dex
    79 24B7 D0 E6			bne zx_print_inv_func_loop
    80
    81 24B9 60				rts
    82
    83 				.MACRO ZX_PRINT_INV letter position_x position_y
    84 					lda #:letter
    85 					ldx #:position_x
    86 					ldy #:position_y
    87 					jsr zx_print_inv_func
    88 				.ENDM
    89
    90 						
    19 24BA				ICL 'func.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
     1 				; copy 256 byte block from src to dst
     2
     3 24BA			memcopy_block_func:
     4 24BA				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 24BA 48				pha
     2 24BB 8A				txa
     3 24BC 48				pha
     4 24BD 98				tya
     5 24BE 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
     5
     6 24BF A0 00			ldy #0
     7 24C1			memcopy_block_loop:	
     8 24C1 B1 E9		 	lda (memcopy_block_src),y
     9 24C3 91 EB		 	sta (memcopy_block_dst),y
    10 24C5 C8			 	iny
    11 24C6 D0 F9		 	bne memcopy_block_loop
    12
    13 24C8			 	REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 24C8 68				pla
     2 24C9 A8				tay
     3 24CA 68				pla
     4 24CB AA				tax
     5 24CC 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    14 24CD 60			 	rts
    15
    16 				.MACRO MEMCOPY_BLOCK src dst
    17 					mwa #:src memcopy_block_src
    18 					mwa #:dst memcopy_block_dst
    19 					
    20 					jsr memcopy_block_func
    21 				.ENDM
    22
    23 24CE			memcopy_screen_func:
    24 24CE				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 24CE 48				pha
     2 24CF 8A				txa
     3 24D0 48				pha
     4 24D1 98				tya
     5 24D2 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    25 					
    26 24D3 A2 18			ldx #24
    27 24D5			memcopy_screen_func_loop:
    28 24D5 20 BA 24			jsr memcopy_block_func
    29 24D8 A5 EA			lda memcopy_block_src+1
    30 24DA 69 01			adc #1
    31 24DC 85 EA			sta memcopy_block_src+1	
    32 24DE A5 EC			lda memcopy_block_dst+1
    33 24E0 69 01			adc #1
    34 24E2 85 EC			sta memcopy_block_dst+1	
    35 24E4 CA				dex
    36 24E5 D0 EE			bne memcopy_screen_func_loop
    37 					
    38 24E7				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 24E7 68				pla
     2 24E8 A8				tay
     3 24E9 68				pla
     4 24EA AA				tax
     5 24EB 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    39 24EC 60				rts
    40
    41 				.MACRO MEMCOPY_SCREEN src dst
    42 					mwa #:src memcopy_block_src
    43 					mwa #:dst memcopy_block_dst
    44 					
    45 					jsr memcopy_screen_func	
    46 				.ENDM
    47
    48 24ED			screen_clear:
    49 24ED				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 24ED 48				pha
     2 24EE 8A				txa
     3 24EF 48				pha
     4 24F0 98				tya
     5 24F1 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    50 24F2 A5 F3 8D 03 25 A5 + 	mwa screen_adr screen_clear_loop_2+1
    51 24FC A9 00			lda #0
    52 24FE A2 18			ldx #24
    53 2500			screen_clear_loop_1
    54 2500 A0 00			ldy #0	
    55 2502			screen_clear_loop_2	
    56 2502 99 00 00			sta $0000,y
    57 2505 C8				iny
    58 2506 D0 FA			bne screen_clear_loop_2
    59 2508 EE 04 25			inc screen_clear_loop_2+2
    60 250B CA				dex
    61 250C D0 F4			bne screen_clear_loop_2
    62 250E				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 250E 68				pla
     2 250F A8				tay
     3 2510 68				pla
     4 2511 AA				tax
     5 2512 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    63 2513 60				rts	
    64
    65 2514			screen_fill:
    66 2514				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2514 48				pha
     2 2515 8A				txa
     3 2516 48				pha
     4 2517 98				tya
     5 2518 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    67 2519 A5 F3 8D 2A 25 A5 + 	mwa screen_adr screen_fill_loop_2+1
    68 2523 A9 FF			lda #255
    69 2525 A2 18			ldx #24
    70 2527			screen_fill_loop_1
    71 2527 A0 00			ldy #0	
    72 2529			screen_fill_loop_2	
    73 2529 99 00 00			sta $0000,y
    74 252C C8				iny
    75 252D D0 FA			bne screen_fill_loop_2
    76 252F EE 2B 25			inc screen_fill_loop_2+2
    77 2532 CA				dex
    78 2533 D0 F4			bne screen_fill_loop_2
    79 2535				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2535 68				pla
     2 2536 A8				tay
     3 2537 68				pla
     4 2538 AA				tax
     5 2539 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    80 253A 60				rts	
    81
    82 					
    83 253B			screen_set_read_1:
    84 					; load display list address to register
    85 253B A9 00 8D 30 02 A9 + 	mwa #dl_antic_1 DLIST
    86 2545 60				rts
    87 2546			screen_set_write_1:
    88 					; switch working buffer pointer
    89 2546 A9 00 85 F3 A9 40 + 	mwa #screen_mem_1 screen_adr
    90 254E 60				rts
    91
    92 254F			screen_set_read_2:
    93 					; load display list address to register
    94 254F A9 CC 8D 30 02 A9 + 	mwa #dl_antic_2 DLIST
    95 2559 60				rts
    96 255A			screen_set_write_2:	
    97 					; switch working buffer pointer
    98 255A A9 00 85 F3 A9 58 + 	mwa #screen_mem_2 screen_adr
    99 2562 60				rts
   100 					
    20 2563				ICL 'screen_mem.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\screen_mem.asm
     1 2563				org $4000
     2
     3 = 4000			screen_mem_1 = $4000
     4 = 4800			screen_mem_1_1 = $4800
     5 = 5000			screen_mem_1_2 = $5000
     6 4000-8AFF> 00 00 00 00 + 	:6144 dta 0
     7 					
     8 5800				org $5800
     9 = 5800			screen_mem_2 = $5800
    10 = 6000			screen_mem_2_1 = $6000
    11 = 6800			screen_mem_2_2 = $6800
    12 5800 00 00 00 00 00 00 + 	:6144 dta 0
    13
    14 7000				org $7000
    15 7000			image_data_zx_font:
    16 7000				.local graphics
    17 7000 00 00 00 00 00 00 + 	ins "..\pic\zx_font.fnt"
    18 					.endl
    19 7300			image_data_unicorn:
    20 7300				.local graphics
    21 7300 00 00 00 00 00 00 + 	ins "..\pic\unicorn2inv.gr8"
    22 					.endl
    23
    24
    21 8B00				ICL 'display_list_const.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\display_list_const.asm
     1 = 0012			RTCLOCK_2 = $12
     2 = 0013			RTCLOCK_1 = $13
     3 = 0014			RTCLOCK_0 = $14
     4
     5 = 0230			DLIST   = $230
     6 = 0230			DLISTL  = $230 ; display list pointer low byte
     7 = 0231			DLISTH  = $231 ;                      high byte
     8 = 02C8			COLRBK  = $2C8
     9
    10 = D016			COLPF0	= $D016  
    11 = D017			COLPF1	= $D017  
    12 = D018			COLPF2	= $D018  
    13 = D019			COLPF3	= $D019
    14 = D01A			COLBG	= $D01A 
    15
    16 = 02C4			COLOR0	= $02C4
    17 = 02C5			COLOR1	= $02C5
    18 = 02C6			COLOR2	= $02C6
    19 = 02C7			COLOR3	= $02C7
    20 = 02C8			COLOR4 	= $02C8
    21
    22 = 022F			SDMCTL  = $022F
    23 = 022F			DMACTLS = $022F
    24 = D400			DMACTL  = $D400
    25 = 0200			VDSLST  = $0200 ; display list interrupt vector
    26 = D40E			NMEN	= $D40E
    27 = D40E			NMIEN	= $D40E ; bit 7
    28 = D40A			WSYNC   = $D40A
    29 = D40B			VCOUNT  = $D40B
    30
    31 = 02C5			GR8_PEN   = COLOR1
    32 = 02C6			GR8_PAPER = COLOR2
    33 = 02C8			GR8_FRAME = COLOR4 
    34
    35 = D017			DLI_PEN   = COLPF1
    36 = D018			DLI_PAPER = COLPF2
    37 = D01A			DLI_FRAME = COLBG 
    38
    39 = 0000			COLOR_BLACK = $00
    40 = 000E			COLOR_WHITE = $0E
    41 = 00AC			COLOR_CYAN  = $ac
    42 = 0043			COLOR_RED   = $43
    43
    44 = D012			COLPM0	= $D012
    45 = D013			COLPM1	= $D013
    46 = D014			COLPM2	= $D014
    47 = D015			COLPM3	= $D015
    48
    49 = 02C0			COLPM0S	= $02C0
    50 = 02C1			COLPM1S	= $02C1
    51 = 02C2			COLPM2S	= $02C2
    52 = 02C3			COLPM3S	= $02C3
    53
    54
    55 = D008			SIZEP0	= $D008
    56 = D009			SIZEP1	= $D009
    57 = D00A			SIZEP2	= $D00A
    58 = D00B			SIZEP3	= $D00B
    59
    60 = D00C			SIZEM	= $D00C
    61
    62 = D000			HPOSP0	= $D000
    63 = D001			HPOSP1	= $D001
    64 = D002			HPOSP2	= $D002
    65 = D003			HPOSP3	= $D003
    66
    67 = D004			HPOSM0	= $D004
    68 = D005			HPOSM1	= $D005
    69 = D006			HPOSM2	= $D006
    70 = D007			HPOSM3	= $D007
    71
    72 = D01C			VDELAY	= $D01C
    73
    74 = D01B			GTIACTL	= $D01B
    75 = 026F			GTIACTLS = $026F
    76
    77 = D01D			PMCTL	= $D01D
    78
    79 = D407			PMBASE = $D407
    80
    81 				;     SAVMSC $0058,2       (88): pointer to current screen for CIO commands
    82 				;     RAMTOP $006A        (106): start-of-ROM pointer (MSB only)
    83 				;     VDSLST $0200,2      (512): DLI vector
    84 				;     RAMSIZ $02E4        (740): permanent start-of-ROM pointer (MSB only)
    85 				;     DLISTL $D402      (54274): display list pointer low byte
    86 				;     DLISTH $D403      (54275):     "    high byte
    87 				;     HSCROL $D404      (54276): horizontal scroll register
    88 				;     VSCROL $D405      (54277): vertical scroll register
    89 				;     NMIEN  $D40E      (54286): NMI enable (DLIs)
    90 				;     
    91 				;     
    92 				;                               Shadow registers
    93 				;     
    94 				;     
    95 				;     SDLSTL $0230        (560): DLISTL
    96 				;     SDLSTH $0231        (561): DLISTH
    22 8B00				ICL 'display_list.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\display_list.asm
     1
     2 8B00				org $3800
     3 				; DL for first buffer	
     4 3800-39C8> F0 70 70	dl_antic_1	dta $F0,$70,$70              ; 3x8 empty scanlines + interrupt
     5 3803 4F 00 40				dta b($4f),a(screen_mem_1)   ; $0f - mode, $40 - addr of 1/3 screen bitmap 
     6 3806 0F 0F 0F 0F 0F 0F + 		:62 dta b($0f)               ; 63 lines of $0f 
     7 3844 0F					dta b($0f)                   ; 1 line of $0f + DLI 
     8 3845 4F 00 48				dta b($4f),a(screen_mem_1_1) ; $0f - mode, $40 - addr of 2/3 screen bitmap
     9 3848 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)	             ; 63 lines of $0f 
    10 3887 4F 00 50				dta b($4f),a(screen_mem_1_2) ; $0f - mode, $40 - addr of 3/3 screen bitmap
    11 388A 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f
    12 38C9 41 00 38				dta b($41),a(dl_antic_1)     ; jump to DL start
    13 				; DL for second buffer	
    14 38CC F0 70 70		dl_antic_2	dta $F0,$70,$70              ; 3x8 empty scanlines  + interrupt
    15 38CF 4F 00 58				dta b($4f),a(screen_mem_2)   ; $0f - mode, $40 - addr of 1/3 screen bitmap
    16 38D2 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f 
    17 3911 4F 00 60				dta b($4f),a(screen_mem_2_1) ; $0f - mode, $40 - addr of 2/3 screen bitmap
    18 3914 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)	             ; 63 lines of $0f 
    19 3953 4F 00 68				dta b($4f),a(screen_mem_2_2) ; $0f - mode, $40 - addr of 3/3 screen bitmap
    20 3956 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f 
    21 3995 41 CC 38				dta b($41),a(dl_antic_2)     ; jump to DL start 
    22
    23 3998			dl_set_mode
    24 3998 A9 39			lda #57
    25 399A 8D 2F 02			sta DMACTLS
    26
    27 399D A9 00			lda #COLOR_BLACK     
    28 399F 8D C5 02			sta GR8_PEN
    29 39A2 A9 00			lda #COLOR_BLACK     
    30 39A4 8D C6 02			sta GR8_PAPER
    31 39A7 A9 00			lda #COLOR_BLACK     
    32 39A9 8D C8 02			sta GR8_FRAME
    33 					
    34 39AC A9 0E			lda #COLOR_WHITE
    35 39AE 8D C5 02			sta COLOR1
    36 39B1 A9 00			lda #COLOR_BLACK
    37 39B3 8D C6 02			sta COLOR2
    38 					
    39 39B6 60				rts
    40
    41 						
    23 39B7				ICL 'wait_vsync.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\wait_vsync.asm
     1
     2
     3 39B7			wait_hsync:
     4
     5 39B7 48				pha
     6
     7 39B8 A9 52			lda #$52
     8 39BA 8D 0A D4			sta WSYNC	;WAIT
     9 39BD 68				pla
    10
    11 39BE 60				rts
    12
    13
    14 39BF			wait_vsync:
    15 39BF 48				pha
    16 39C0			wait_vsync_loop:
    17 39C0 AD 0B D4			lda VCOUNT
    18 39C3 C9 64			cmp #100
    19 39C5 D0 F9			bne wait_vsync_loop 
    20 					
    21 39C7 68				pla
    22 39C8 60				rts
    23 					
    24 39C9				ICL 'math.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\math.asm
     1 39C9				org $1D00
     2 					
     3 				;MATH_SIN_LEN = 16
     4 				;MATH_SIN_MASK = %00001111	
     5 				; math_sin dta 127,176,218,245,255,245,218,176,127,78,36,9,0,9,36,78
     6 				; math_sin dta 128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79
     7 				        
     8 				;MATH_SIN_LEN = 64
     9 				;MATH_SIN_MASK = %00111111	
    10 				;math_sin dta 128,140,152,165,176,188,198,208,218,226,234,240,245,250,253,254,255,254,253,250,245,240,234,226,218,208,198,188,176,165,152,140,128,115,103,90,79,67,57,47,37,29,21,15,10,5,2,1,0,1,2,5,10,15,21,29,37,47,57,67,79,90,103,115
    11
    12 = 0100			MATH_SIN_LEN = 256
    13 = 00FF			MATH_SIN_MASK = %11111111	
    14 1D00-1F0F> 80 83 86 89 + math_sin dta 128,131,134,137,140,143,146,149,152,155,158,162,165,167,170,173,176,179,182,185,188,190,193,196,198,201,203,206,208,211,213,215,218,220,222,224,226,228,230,232,234,235,237,238,240,241,243,244,245,246,248,249,250,250,251,252,253,253,254,254,254,255,0,0,0,0,0,255,254,254,254,253,253,252,251,250,250,249,248,246,245,244,243,241,240,238,237,235,234,232,230,228,226,224,222,220,218,215,213,211,208,206,203,201,198,196,193,190,188,185,182,179,176,173,170,167,165,162,158,155,152,149,146,143,140,137,134,131,128,124,121,118,115,112,109,106,103,100,97,93,90,88,85,82,79,76,73,70,67,65,62,59,57,54,52,49,47,44,42,40,37,35,33,31,29,27,25,23,21,20,18,17,15,14,12,11,10,9,7,6,5,5,4,3,2,2,1,1,1,0,0,0,0,0,0,0,1,1,1,2,2,3,4,5,5,6,7,9,10,11,12,14,15,17,18,20,21,23,25,27,29,31,33,35,37,40,42,44,47,49,52,54,57,59,62,65,67,70,73,76,79,82,85,88,90,93,97,100,103,106,109,112,115,118,121,124
    15
    16 = 0010			MATH_SIN_LEN_16 = 16
    17 = 000F			MATH_SIN_MASK_16 = %00001111	
    18 1E00 80 B0 DA F5 FF F5 + math_sin_16 dta 128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79
    19
    20 1F00 C0 C0 60 40 30 27 + math_192_div dta 192,192,96,64,48,39,32,28,24,22,20,18,16,15,14,13
    25 1F10				ICL 'zero.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zero.asm
     1 1F10				org $e0
     2
     3 				;zero_a	dta 0
     4 				;zero_x	dta 0
     5 				;zero_y	dta 0
     6 				;zero_1	dta 0
     7 				;zero_2	dta 0
     8 				;zero_3	dta 0
     9 00E0-00F4> 00		bar_size dta 0
    10 00E1 00			bar_color1 dta 0
    11 00E2 00			bar_color2 dta 0
    12 00E3 00			bar_color10 dta 0
    13 00E4 00			bar_color20 dta 0
    14 00E5			part1_image_data_address: 
    15 00E5 00 00			dta 0,0
    16 00E7			part1_screen_data_address: 
    17 00E7 00 00			dta 0,0
    18 00E9			memcopy_block_src:
    19 00E9 00 00			dta 0,0
    20 00EB			memcopy_block_dst:
    21 00EB 00 00			dta 0,0
    22 00ED			src:
    23 00ED 00 00			dta 0,0
    24 00EF			dst:
    25 00EF 00 00			dta 0,0
    26 00F1			tmp_word:
    27 00F1 00 00			dta 0,0
    28 00F3			screen_adr
    29 00F3 00 00			dta 0,0
    30 					
    26 00F5				ICL 'ghosts.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm
     1 00F5				org $6000
     2
     3 6000			pm_base:
     4 6000-6AB3> FF FF FF FF + 	:768 dta $FF
     5 6300			pm_missle:
     6 6300 FF FF FF FF FF FF + 	:256 dta $FF
     7 6400			pm_player0:
     8 6400 FF FF FF FF FF FF + 	:256 dta $FF
     9 6500			pm_player1:
    10 6500 FF FF FF FF FF FF + 	:256 dta $FF
    11 6600			pm_player2:
    12 6600 FF FF FF FF FF FF + 	:256 dta $FF
    13 6700			pm_player3:
    14 6700 FF FF FF FF FF FF + 	:256 dta $FF
    15 					
    16 				.MACRO PM_SHOW
    17 				
    18 					lda #$60
    19 					sta PMBASE	; PMBASE
    20 				
    21 					lda #1
    22 					sta GTIACTLS		; GTIACTLS
    23 				
    24 					; szerokoœæ
    25 					lda #0
    26 					sta SIZEP0	; SIZEP0
    27 					lda #1
    28 					sta SIZEP1	; SIZEP0
    29 					lda #1
    30 					sta SIZEP2	; SIZEP0
    31 					lda #0
    32 					sta SIZEP3	; SIZEP0
    33 				
    34 					lda #2
    35 					sta PMCTL	; PMCTL
    36 				
    37 					lda #57
    38 					sta DMACTLS		; DMACTLS
    39 				
    40 					; 64 - begin
    41 					; 4,8,12,16
    42 					lda #68
    43 					sta HPOSP0 
    44 				
    45 					lda #88
    46 					sta HPOSP1 
    47 				
    48 					lda #150
    49 					sta HPOSP2 
    50 				
    51 					lda #180
    52 					sta HPOSP3 
    53 				
    54 					lda #14
    55 					sta COLPM0
    56 					sta COLPM1
    57 					sta COLPM2
    58 					sta COLPM3
    59 				
    60 				.ENDM
    61
    62 				.MACRO PM_HIDE
    63 					lda #0
    64 					sta HPOSP0 
    65 					sta HPOSP1 
    66 					sta HPOSP2 
    67 					sta HPOSP3 
    68 				.ENDM
    69
    70
    71 				.MACRO PM_MOVE
    72 					lda RTCLOCK_0
    73 					sta 53248
    74 				.ENDM
    75
    27 6800				ICL 'part1.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6800 00			part1_x dta 0
     2 6801 00			part1_y dta 0
     3 6802 00			part1_d dta 0
     4 6803 00			TMPCLR dta 0
     5
     6 6804 00			part1_tmpx dta 0
     7 6805 00			part1_tmpy dta 0
     8 6806 00			part1_sync: dta 0
     9
    10
    11 6807			part1:
    12 					; set handler for display list interrupt 
    13 				;	mwa #part1_dli_handler VDSLST
    14
    15 					; enable DL interrupt
    16 				;	lda #$c0
    17 				;	sta NMIEN
    18 					
    19 6807				DLI_ENABLE part1_dli_handler
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6807 A9 B8 8D 00 02 A9 + 	mwa #PART1_DLI_HANDLER VDSLST
     2 6811 A9 C0			lda #$c0
     3 6813 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    20
    21 6816 A9 00			lda #COLOR_BLACK     
    22 6818 8D C5 02			sta GR8_PEN
    23 681B A9 00			lda #COLOR_BLACK     
    24 681D 8D C6 02			sta GR8_PAPER
    25 6820 A9 00			lda #COLOR_BLACK     
    26 6822 8D C8 02			sta GR8_FRAME
    27 					
    28 6825 A9 0E			lda #COLOR_WHITE
    29 6827 8D C5 02			sta COLOR1
    30 682A A9 00			lda #COLOR_BLACK
    31 682C 8D C6 02			sta COLOR2
    32
    33 682F 20 46 25			jsr screen_set_write_1
    34 6832 20 3B 25			jsr screen_set_read_1
    35 					
    36 6835				MEMCOPY_SCREEN image_data_unicorn screen_mem_1
Macro: MEMCOPY_SCREEN [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm]
     1 6835 A9 00 85 E9 A9 73 + 	mwa #IMAGE_DATA_UNICORN memcopy_block_src
     2 683D A9 00 85 EB A9 40 + 	mwa #SCREEN_MEM_1 memcopy_block_dst
     4 6845 20 CE 24			jsr memcopy_screen_func	
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    37 					
    38 6848				PM_SHOW
Macro: PM_SHOW [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm]
     2 6848 A9 60			lda #$60
     3 684A 8D 07 D4			sta PMBASE	; PMBASE
     5 684D A9 01			lda #1
     6 684F 8D 6F 02			sta GTIACTLS		; GTIACTLS
     9 6852 A9 00			lda #0
    10 6854 8D 08 D0			sta SIZEP0	; SIZEP0
    11 6857 A9 01			lda #1
    12 6859 8D 09 D0			sta SIZEP1	; SIZEP0
    13 685C A9 01			lda #1
    14 685E 8D 0A D0			sta SIZEP2	; SIZEP0
    15 6861 A9 00			lda #0
    16 6863 8D 0B D0			sta SIZEP3	; SIZEP0
    18 6866 A9 02			lda #2
    19 6868 8D 1D D0			sta PMCTL	; PMCTL
    21 686B A9 39			lda #57
    22 686D 8D 2F 02			sta DMACTLS		; DMACTLS
    26 6870 A9 44			lda #68
    27 6872 8D 00 D0			sta HPOSP0 
    29 6875 A9 58			lda #88
    30 6877 8D 01 D0			sta HPOSP1 
    32 687A A9 96			lda #150
    33 687C 8D 02 D0			sta HPOSP2 
    35 687F A9 B4			lda #180
    36 6881 8D 03 D0			sta HPOSP3 
    38 6884 A9 0E			lda #14
    39 6886 8D 12 D0			sta COLPM0
    40 6889 8D 13 D0			sta COLPM1
    41 688C 8D 14 D0			sta COLPM2
    42 688F 8D 15 D0			sta COLPM3
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    39
    40
    41 6892			part1_0:
    42
    43 					
    44 6892			part1_0_idle:
    45 					
    46 					;PM_MOVE
    47 					
    48 				;	jmp part1_0_idle
    49
    50 6892				SLEEP 250
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6892 A5 14			lda RTCLOCK_0
     2 6894 18 69 FA			add #250
     3 6897			SLEEP_LOOP:
     4 6897 C5 14			cmp RTCLOCK_0
     5 6899 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    51 689B				SLEEP 250
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 689B A5 14			lda RTCLOCK_0
     2 689D 18 69 FA			add #250
     3 68A0			SLEEP_LOOP:
     4 68A0 C5 14			cmp RTCLOCK_0
     5 68A2 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    52 					
    53 68A4				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 68A4 A9 40			lda #$40
     2 68A6 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    54 68A9				PM_HIDE
Macro: PM_HIDE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm]
     1 68A9 A9 00			lda #0
     2 68AB 8D 00 D0			sta HPOSP0 
     3 68AE 8D 01 D0			sta HPOSP1 
     4 68B1 8D 02 D0			sta HPOSP2 
     5 68B4 8D 03 D0			sta HPOSP3 
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    55
    56 68B7 60				rts
    57
    58 68B8			part1_dli_handler:
    59
    60 				; line:
    61 				; 32 cycles - frame (2+26+4)
    62 				; 28 cycles - screen
    63
    64 68B8				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 68B8 48				pha
     2 68B9 8A				txa
     3 68BA 48				pha
     4 68BB 98				tya
     5 68BC 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    65 68BD A9 00			lda #COLOR_BLACK
    66 68BF 8D 18 D0			sta DLI_PAPER ; black
    67
    68
    69 					; bar size
    70 68C2 A9 02			lda #2
    71 68C4 85 E0			sta bar_size
    72
    73 68C6 8D 0A D4			:1 sta WSYNC	;WAIT
    74 					
    75 68C9 A9 01			lda #1
    76 68CB 8D 12 D0			sta COLPM0
    77 68CE 8D 13 D0			sta COLPM1
    78 68D1 8D 14 D0			sta COLPM2
    79 68D4 8D 15 D0			sta COLPM3
    80
    81 					; cycle begin
    82 68D7 A2 01			ldx #1
    83 68D9 8D 0A D4			:1 sta WSYNC	;WAIT
    84
    85 				;	lda math_sin_16,x
    86 				;	:4 lsr
    87 				;	adc #1
    88 				;	tax
    89
    90 68DC 8D 0A D4			:1 sta WSYNC
    91 					
    92 68DF A5 13			lda RTCLOCK_1
    93 68E1 8D C0 02			sta 704		; KOLOR
    94
    95 68E4 8D 0A D4 8D 0A D4 + 	:18 sta WSYNC	;WAIT
    96
    97 					; init color value
    98 691A A4 14			ldy RTCLOCK_0
    99 691C B9 00 1D			lda math_sin,y
   100 691F 85 E1			sta bar_color1
   101 6921 98				tya
   102 6922 49 FF			eor #$ff
   103 6924 A8				tay
   104 6925 B9 00 1D			lda math_sin,y
   105 6928 85 E2			sta bar_color2
   106
   107 692A 8D 0A D4			:1 sta WSYNC	;WAIT
   108
   109 					; 192 screen lines
   110
   111
   112 692D A6 E1			ldx bar_color1
   113 692F A4 E2			ldy bar_color2
   114
   115 6931				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6931 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6934 CA				dex
     2 6935 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6936 8C 12 D0			sty COLPM0
     4 6939 8C 13 D0			sty COLPM1
     5 693C 8E 14 D0			stx COLPM2
     6 693F 8E 15 D0			stx COLPM3
     7 6942 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 6945 EA				nop
     2 6946 EA				nop
     3 6947 EA				nop
     4 6948 EA				nop
     5 6949 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 694A EA				nop
    10 694B 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   116 694E				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 694E 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6951 CA				dex
     2 6952 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6953 8C 12 D0			sty COLPM0
     4 6956 8C 13 D0			sty COLPM1
     5 6959 8E 14 D0			stx COLPM2
     6 695C 8E 15 D0			stx COLPM3
     7 695F 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 6962 EA				nop
     2 6963 EA				nop
     3 6964 EA				nop
     4 6965 EA				nop
     5 6966 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6967 EA				nop
    10 6968 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   117
   118 696B A9 39			lda #57
   119 696D			dli_handler_loop_0:
   120 696D				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 696D 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6970 CA				dex
     2 6971 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6972 8C 12 D0			sty COLPM0
     4 6975 8C 13 D0			sty COLPM1
     5 6978 8E 14 D0			stx COLPM2
     6 697B 8E 15 D0			stx COLPM3
     7 697E 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 6981 EA				nop
     2 6982 EA				nop
     3 6983 EA				nop
     4 6984 EA				nop
     5 6985 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6986 EA				nop
    10 6987 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   121 698A E9 01			sbc #1
   122 698C D0 DF			bne dli_handler_loop_0
   123
   124 698E				LINE_NOP_SHORT
Macro: LINE_NOP_SHORT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 698E 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6991 CA				dex
     2 6992 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6993 8C 12 D0			sty COLPM0
     4 6996 8C 13 D0			sty COLPM1
     5 6999 8E 14 D0			stx COLPM2
     6 699C 8E 15 D0			stx COLPM3
     7 699F 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69A2 EA				nop
     2 69A3 EA				nop
     3 69A4 EA				nop
     4 69A5 EA				nop
     5 69A6 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69A7 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   125
   126 69AA A9 3F			lda #63
   127 69AC			dli_handler_loop_1:
   128 69AC				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69AC 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 69AF CA				dex
     2 69B0 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 69B1 8C 12 D0			sty COLPM0
     4 69B4 8C 13 D0			sty COLPM1
     5 69B7 8E 14 D0			stx COLPM2
     6 69BA 8E 15 D0			stx COLPM3
     7 69BD 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69C0 EA				nop
     2 69C1 EA				nop
     3 69C2 EA				nop
     4 69C3 EA				nop
     5 69C4 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69C5 EA				nop
    10 69C6 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   129 69C9 E9 01			sbc #1
   130 69CB D0 DF			bne dli_handler_loop_1
   131 69CD				LINE_NOP_SHORT
Macro: LINE_NOP_SHORT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69CD 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 69D0 CA				dex
     2 69D1 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 69D2 8C 12 D0			sty COLPM0
     4 69D5 8C 13 D0			sty COLPM1
     5 69D8 8E 14 D0			stx COLPM2
     6 69DB 8E 15 D0			stx COLPM3
     7 69DE 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69E1 EA				nop
     2 69E2 EA				nop
     3 69E3 EA				nop
     4 69E4 EA				nop
     5 69E5 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69E6 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   132
   133 69E9 A9 3E			lda #62
   134 69EB			dli_handler_loop_2:
   135 69EB				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69EB 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 69EE CA				dex
     2 69EF 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 69F0 8C 12 D0			sty COLPM0
     4 69F3 8C 13 D0			sty COLPM1
     5 69F6 8E 14 D0			stx COLPM2
     6 69F9 8E 15 D0			stx COLPM3
     7 69FC 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69FF EA				nop
     2 6A00 EA				nop
     3 6A01 EA				nop
     4 6A02 EA				nop
     5 6A03 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6A04 EA				nop
    10 6A05 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   136 6A08 E9 01			sbc #1
   137 6A0A D0 DF			bne dli_handler_loop_2
   138
   139 				;	LINE_NOP_SHORT
   140 					
   141 6A0C				LINE_NOP_LAST
Macro: LINE_NOP_LAST [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A0C 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     2 6A0F 8E 18 D0			stx DLI_PAPER	; 4 cycles
     3 6A12 A9 01			lda #1
     4 6A14 8D 12 D0			sta COLPM0
     5 6A17 8D 13 D0			sta COLPM1
     6 6A1A 8D 14 D0			sta COLPM2
     7 6A1D 8D 15 D0			sta COLPM3
     1 6A20 EA				nop
     2 6A21 EA				nop
     3 6A22 EA				nop
     4 6A23 EA				nop
     5 6A24 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6A25 EA				nop
    10 6A26 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   142
   143 6A29 A9 01			lda #1
   144 6A2B 8D 12 D0			sta COLPM0
   145 6A2E 8D 13 D0			sta COLPM1
   146 6A31 8D 14 D0			sta COLPM2
   147 6A34 8D 15 D0			sta COLPM3
   148
   149 6A37				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A37 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   150 					
   151
   152 6A3A				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A3A 68				pla
     2 6A3B A8				tay
     3 6A3C 68				pla
     4 6A3D AA				tax
     5 6A3E 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   153 6A3F 40				rti
   154 					
   155 					
   156 					
    28 6A40				ICL 'zx_dli.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
     1
     2 6A40			zx_dli_header_block:
     3
     4 6A40				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A40 48				pha
     2 6A41 8A				txa
     3 6A42 48				pha
     4 6A43 98				tya
     5 6A44 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
     5
     6 					; 192 screen lines
     7 6A45 A0 F0			ldy #240
     8 6A47			zx_dli_header_block_loop1:	
     9 6A47 B1 14			lda (RTCLOCK_0),y
    10 6A49 69 05			adc #5
    11 6A4B 29 0F			and #$0f
    12 6A4D A2 43			ldx #COLOR_RED
    13 6A4F 8E 1A D0			stx DLI_FRAME
    14 6A52			zx_dli_header_block_loop2:	
    15 6A52				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A52 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    16 6A55 88				dey
    17 6A56 F0 1C			beq zx_dli_header_block_end
    18 6A58 E9 01			sbc #1
    19 6A5A D0 F6			bne zx_dli_header_block_loop2
    20
    21 6A5C			zx_dli_header_block_loop3:	
    22 6A5C B1 14			lda (RTCLOCK_0),y
    23 6A5E 69 05			adc #5
    24 6A60 29 0F			and #$0f
    25 6A62 A2 AC			ldx #COLOR_CYAN
    26 6A64 8E 1A D0			stx DLI_FRAME
    27 6A67			zx_dli_header_block_loop4:	
    28 6A67				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A67 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    29 6A6A 88				dey
    30 6A6B F0 07			beq zx_dli_header_block_end
    31 6A6D E9 01			sbc #1
    32 6A6F D0 F6			bne zx_dli_header_block_loop4
    33 6A71 4C 47 6A			jmp zx_dli_header_block_loop1
    34
    35 6A74			zx_dli_header_block_end:
    36 6A74				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A74 68				pla
     2 6A75 A8				tay
     3 6A76 68				pla
     4 6A77 AA				tax
     5 6A78 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    37 6A79 40				rti
    38 					
    39 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    40
    41 6A7A			zx_dli_data_block:
    42
    43 6A7A				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A7A 48				pha
     2 6A7B 8A				txa
     3 6A7C 48				pha
     4 6A7D 98				tya
     5 6A7E 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    44
    45 					; 192 screen lines
    46 6A7F A0 F0			ldy #240
    47 6A81			zx_dli_data_block_loop1:	
    48 6A81 B1 13			lda (RTCLOCK_1),y
    49 6A83 69 03			adc #3
    50 6A85 29 07			and #$07
    51 6A87 A2 43			ldx #COLOR_RED
    52 6A89 8E 1A D0			stx DLI_FRAME
    53 6A8C			zx_dli_data_block_loop2:	
    54 6A8C				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A8C 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    55 6A8F 88				dey
    56 6A90 F0 1C			beq zx_dli_data_block_end
    57 6A92 E9 01			sbc #1
    58 6A94 D0 F6			bne zx_dli_data_block_loop2
    59
    60 6A96			zx_dli_data_block_loop3:	
    61 6A96 B1 14			lda (RTCLOCK_0),y
    62 6A98 69 05			adc #5
    63 6A9A 29 0F			and #$0f
    64 6A9C A2 AC			ldx #COLOR_CYAN
    65 6A9E 8E 1A D0			stx DLI_FRAME
    66 6AA1			zx_dli_data_block_loop4:	
    67 6AA1				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6AA1 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    68 6AA4 88				dey
    69 6AA5 F0 07			beq zx_dli_data_block_end
    70 6AA7 E9 01			sbc #1
    71 6AA9 D0 F6			bne zx_dli_data_block_loop4
    72 6AAB 4C 81 6A			jmp zx_dli_data_block_loop1
    73
    74 6AAE			zx_dli_data_block_end:
    75 6AAE				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6AAE 68				pla
     2 6AAF A8				tay
     3 6AB0 68				pla
     4 6AB1 AA				tax
     5 6AB2 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    76 6AB3 40				rti
    77 					
    78 					
    79 						
    80 					
    81 					
    82 					
    83 					
    84 					
    85 					
    29
