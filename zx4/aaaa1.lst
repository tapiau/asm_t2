mads 2.0.6 build 58 (28 Jan 17)
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\aaaa1.asm
     1 					ICL 'macro.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm
     1 				.MACRO REG_PUSH 
     2 					pha
     3 					txa
     4 					pha
     5 					tya
     6 					pha
     7 				.ENDM
     8
     9 				.MACRO REG_PULL
    10 					pla
    11 					tay
    12 					pla
    13 					tax
    14 					pla
    15 				.ENDM
    16
    17 				.MACRO SLEEP frames
    18 					lda RTCLOCK_0
    19 					add #:frames
    20 				SLEEP_LOOP:
    21 					cmp RTCLOCK_0
    22 					bne SLEEP_LOOP
    23 				.ENDM
    24
    25 				.MACRO LINE_SPACE_9_CYCLES
    26 					nop
    27 					nop
    28 					nop
    29 					sta bar_color20	; 3 cycles
    30 				.ENDM
    31
    32 				.MACRO LINE_SPACE_10_CYCLES
    33 					nop
    34 					nop
    35 					nop
    36 					nop
    37 					nop
    38 				.ENDM
    39
    40 				.MACRO LINE_SPACE_11_CYCLES
    41 					nop
    42 					nop
    43 					nop
    44 					nop
    45 					sta bar_color20	; 3 cycles
    46 				.ENDM
    47
    48 				.MACRO LINE_WAIT
    49 					sta WSYNC	;WAIT
    50 				.ENDM
    51
    52 				.MACRO LINE_COLOR_CALC
    53 					dex
    54 					dey
    55 				.ENDM
    56
    57 				.MACRO LINE_NOP_HALF
    58 					LINE_WAIT
    59 				
    60 					;; 4 nops
    61 					LINE_COLOR_CALC
    62 					
    63 					LINE_NOP_SPACE_1
    64 					
    65 					sta bar_color20	; 3 cycles
    66 					stx DLI_PAPER	; 4 cycles
    67 				;	stx DLI_PEN	; 4 cycles
    68 					LINE_NOP_SPACE_2
    69 					sty DLI_PAPER	; 4 cycles
    70 				;	sty DLI_PEN	; 4 cycles
    71 				.ENDM
    72
    73 				.MACRO LINE_NOP_NORMAL
    74 					LINE_WAIT
    75 					LINE_COLOR_CALC
    76 					sty COLPM0
    77 					sty COLPM1
    78 					stx COLPM2
    79 					stx COLPM3
    80 					stx DLI_PAPER	; 4 cycles
    81 					LINE_SPACE_10_CYCLES
    82 					nop
    83 					sty DLI_PAPER	; 4 cycles
    84 				.ENDM
    85
    86 				.MACRO LINE_NOP_SHORT
    87 					LINE_WAIT
    88 					LINE_COLOR_CALC
    89 					sty COLPM0
    90 					sty COLPM1
    91 					stx COLPM2
    92 					stx COLPM3
    93 					stx DLI_PAPER	; 4 cycles
    94 					LINE_SPACE_10_CYCLES
    95 					sty DLI_PAPER	; 4 cycles
    96 				.ENDM
    97
    98 				.MACRO LINE_NOP_LAST
    99 					LINE_WAIT
   100 					stx DLI_PAPER	; 4 cycles
   101 					lda #1
   102 					sta COLPM0
   103 					sta COLPM1
   104 					sta COLPM2
   105 					sta COLPM3
   106 					LINE_SPACE_10_CYCLES
   107 					nop
   108 					sty DLI_PAPER	; 4 cycles
   109 				.ENDM
   110
   111 				.MACRO DLI_ENABLE handler
   112 					mwa #:handler VDSLST
   113 					lda #$c0
   114 					sta NMIEN
   115 				.ENDM
   116
   117 				.MACRO DLI_DISABLE
   118 					lda #$40
   119 					sta NMIEN
   120 				.ENDM
     2
     3 					org $2000
     4
     5 					.proc main
     6 					
     7 FFFF> 2000-26EE> 20 98 + 	jsr dl_set_mode	
     8 2003 20 0D 20			jsr zx
     9
    10 2006 20 98 39			jsr dl_set_mode
    11 2009 20 07 68			jsr part1
    12 					
    13 200C 60				rts
    14
    15 					.endp
    16 					
    17 200D				ICL 'zx.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx.asm
     1 200D			zx:
     2 200D A9 00			lda #COLOR_BLACK     
     3 200F 8D C5 02			sta GR8_PEN
     4 2012 A9 0E			lda #COLOR_WHITE     
     5 2014 8D C6 02			sta GR8_PAPER
     6 2017 A9 0E			lda #COLOR_WHITE     
     7 2019 8D C8 02			sta GR8_FRAME
     8
     9 201C 20 D2 26			jsr screen_set_write_1
    10 201F 20 C7 26			jsr screen_set_read_1
    11 					
    12 2022			zx_loop:
    13
    14 2022				ICL "zx_boot.asm"
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     1 2022 A9 0E			lda #COLOR_WHITE
     2 2024 8D C8 02			sta GR8_FRAME
     3 2027 20 A0 26			jsr screen_fill
     4 202A				SLEEP 50
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 202A A5 14			lda RTCLOCK_0
     2 202C 18 69 32			add #50
     3 202F			SLEEP_LOOP:
     4 202F C5 14			cmp RTCLOCK_0
     5 2031 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     5 2033 20 79 26			jsr screen_clear
     6 					
     7 2036				ZX_PRINT 96 0 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2036 A9 60			lda #96
     2 2038 A2 00			ldx #0
     3 203A A0 17			ldy #23
     4 203C 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     8 203F				ZX_PRINT '2'-32 2 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 203F A9 12			lda #'2'-32
     2 2041 A2 02			ldx #2
     3 2043 A0 17			ldy #23
     4 2045 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     9 2048				ZX_PRINT '0'-32 3 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2048 A9 10			lda #'0'-32
     2 204A A2 03			ldx #3
     3 204C A0 17			ldy #23
     4 204E 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    10 2051				ZX_PRINT '1'-32 4 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2051 A9 11			lda #'1'-32
     2 2053 A2 04			ldx #4
     3 2055 A0 17			ldy #23
     4 2057 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    11 205A				ZX_PRINT '8'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 205A A9 18			lda #'8'-32
     2 205C A2 05			ldx #5
     3 205E A0 17			ldy #23
     4 2060 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    12
    13 2063				ZX_PRINT 'G'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2063 A9 27			lda #'G'-32
     2 2065 A2 07			ldx #7
     3 2067 A0 17			ldy #23
     4 2069 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    14 206C				ZX_PRINT 'o'-32 8 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 206C A9 4F			lda #'o'-32
     2 206E A2 08			ldx #8
     3 2070 A0 17			ldy #23
     4 2072 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    15 2075				ZX_PRINT 'm'-32 9 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2075 A9 4D			lda #'m'-32
     2 2077 A2 09			ldx #9
     3 2079 A0 17			ldy #23
     4 207B 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    16 207E				ZX_PRINT 'i'-32 10 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 207E A9 49			lda #'i'-32
     2 2080 A2 0A			ldx #10
     3 2082 A0 17			ldy #23
     4 2084 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    17 2087				ZX_PRINT 'b'-32 11 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2087 A9 42			lda #'b'-32
     2 2089 A2 0B			ldx #11
     3 208B A0 17			ldy #23
     4 208D 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    18 2090				ZX_PRINT 'o'-32 12 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2090 A9 4F			lda #'o'-32
     2 2092 A2 0C			ldx #12
     3 2094 A0 17			ldy #23
     4 2096 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    19 2099				ZX_PRINT 'y'-32 13 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2099 A9 59			lda #'y'-32
     2 209B A2 0D			ldx #13
     3 209D A0 17			ldy #23
     4 209F 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    20
    21 20A2				ZX_PRINT 'R'-32 15 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20A2 A9 32			lda #'R'-32
     2 20A4 A2 0F			ldx #15
     3 20A6 A0 17			ldy #23
     4 20A8 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    22 20AB				ZX_PRINT 'e'-32 16 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20AB A9 45			lda #'e'-32
     2 20AD A2 10			ldx #16
     3 20AF A0 17			ldy #23
     4 20B1 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    23 20B4				ZX_PRINT 's'-32 17 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20B4 A9 53			lda #'s'-32
     2 20B6 A2 11			ldx #17
     3 20B8 A0 17			ldy #23
     4 20BA 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    24 20BD				ZX_PRINT 'e'-32 18 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20BD A9 45			lda #'e'-32
     2 20BF A2 12			ldx #18
     3 20C1 A0 17			ldy #23
     4 20C3 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    25 20C6				ZX_PRINT 'a'-32 19 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20C6 A9 41			lda #'a'-32
     2 20C8 A2 13			ldx #19
     3 20CA A0 17			ldy #23
     4 20CC 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    26 20CF				ZX_PRINT 'r'-32 20 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20CF A9 52			lda #'r'-32
     2 20D1 A2 14			ldx #20
     3 20D3 A0 17			ldy #23
     4 20D5 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    27 20D8				ZX_PRINT 'c'-32 21 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20D8 A9 43			lda #'c'-32
     2 20DA A2 15			ldx #21
     3 20DC A0 17			ldy #23
     4 20DE 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    28 20E1				ZX_PRINT 'h'-32 22 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20E1 A9 48			lda #'h'-32
     2 20E3 A2 16			ldx #22
     3 20E5 A0 17			ldy #23
     4 20E7 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    29
    30 20EA				ZX_PRINT 'L'-32 24 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20EA A9 2C			lda #'L'-32
     2 20EC A2 18			ldx #24
     3 20EE A0 17			ldy #23
     4 20F0 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    31 20F3				ZX_PRINT 't'-32 25 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20F3 A9 54			lda #'t'-32
     2 20F5 A2 19			ldx #25
     3 20F7 A0 17			ldy #23
     4 20F9 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    32 20FC				ZX_PRINT 'd'-32 26 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20FC A9 44			lda #'d'-32
     2 20FE A2 1A			ldx #26
     3 2100 A0 17			ldy #23
     4 2102 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    33 					
    34 2105				SLEEP 50
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2105 A5 14			lda RTCLOCK_0
     2 2107 18 69 32			add #50
     3 210A			SLEEP_LOOP:
     4 210A C5 14			cmp RTCLOCK_0
     5 210C D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    35
    36 210E 20 79 26			jsr screen_clear
    37 					
    38 2111				ZX_PRINT 'L'-32 0 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2111 A9 2C			lda #'L'-32
     2 2113 A2 00			ldx #0
     3 2115 A0 17			ldy #23
     4 2117 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    39 211A				ZX_PRINT 'O'-32 1 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 211A A9 2F			lda #'O'-32
     2 211C A2 01			ldx #1
     3 211E A0 17			ldy #23
     4 2120 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    40 2123				ZX_PRINT 'A'-32 2 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2123 A9 21			lda #'A'-32
     2 2125 A2 02			ldx #2
     3 2127 A0 17			ldy #23
     4 2129 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    41 212C				ZX_PRINT 'D'-32 3 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 212C A9 24			lda #'D'-32
     2 212E A2 03			ldx #3
     3 2130 A0 17			ldy #23
     4 2132 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    42 2135				ZX_PRINT ' '-32 4 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2135 A9 00			lda #' '-32
     2 2137 A2 04			ldx #4
     3 2139 A0 17			ldy #23
     4 213B 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    43 213E				ZX_PRINT_INV 'L'-32 5 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 213E A9 2C			lda #'L'-32
     2 2140 A2 05			ldx #5
     3 2142 A0 17			ldy #23
     4 2144 20 08 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    44 2147				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2147 A5 14			lda RTCLOCK_0
     2 2149 18 69 19			add #25
     3 214C			SLEEP_LOOP:
     4 214C C5 14			cmp RTCLOCK_0
     5 214E D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    45 2150				ZX_PRINT 'L'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2150 A9 2C			lda #'L'-32
     2 2152 A2 05			ldx #5
     3 2154 A0 17			ldy #23
     4 2156 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    46 2159				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2159 A5 14			lda RTCLOCK_0
     2 215B 18 69 19			add #25
     3 215E			SLEEP_LOOP:
     4 215E C5 14			cmp RTCLOCK_0
     5 2160 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    47 2162				ZX_PRINT_INV 'L'-32 5 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2162 A9 2C			lda #'L'-32
     2 2164 A2 05			ldx #5
     3 2166 A0 17			ldy #23
     4 2168 20 08 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    48 216B				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 216B A5 14			lda RTCLOCK_0
     2 216D 18 69 19			add #25
     3 2170			SLEEP_LOOP:
     4 2170 C5 14			cmp RTCLOCK_0
     5 2172 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    49 2174				ZX_PRINT 'L'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2174 A9 2C			lda #'L'-32
     2 2176 A2 05			ldx #5
     3 2178 A0 17			ldy #23
     4 217A 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    50 217D				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 217D A5 14			lda RTCLOCK_0
     2 217F 18 69 19			add #25
     3 2182			SLEEP_LOOP:
     4 2182 C5 14			cmp RTCLOCK_0
     5 2184 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    51 2186				ZX_PRINT '"'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2186 A9 02			lda #'"'-32
     2 2188 A2 05			ldx #5
     3 218A A0 17			ldy #23
     4 218C 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    52 218F				ZX_PRINT_INV 'L'-32 6 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 218F A9 2C			lda #'L'-32
     2 2191 A2 06			ldx #6
     3 2193 A0 17			ldy #23
     4 2195 20 08 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    53 2198				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2198 A5 14			lda RTCLOCK_0
     2 219A 18 69 19			add #25
     3 219D			SLEEP_LOOP:
     4 219D C5 14			cmp RTCLOCK_0
     5 219F D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    54 21A1				ZX_PRINT '"'-32 6 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21A1 A9 02			lda #'"'-32
     2 21A3 A2 06			ldx #6
     3 21A5 A0 17			ldy #23
     4 21A7 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    55 21AA				ZX_PRINT_INV 'L'-32 7 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21AA A9 2C			lda #'L'-32
     2 21AC A2 07			ldx #7
     3 21AE A0 17			ldy #23
     4 21B0 20 08 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    56 21B3				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21B3 A5 14			lda RTCLOCK_0
     2 21B5 18 69 19			add #25
     3 21B8			SLEEP_LOOP:
     4 21B8 C5 14			cmp RTCLOCK_0
     5 21BA D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    57 21BC				ZX_PRINT 'L'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21BC A9 2C			lda #'L'-32
     2 21BE A2 07			ldx #7
     3 21C0 A0 17			ldy #23
     4 21C2 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    58 21C5				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21C5 A5 14			lda RTCLOCK_0
     2 21C7 18 69 19			add #25
     3 21CA			SLEEP_LOOP:
     4 21CA C5 14			cmp RTCLOCK_0
     5 21CC D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    59 21CE				ZX_PRINT_INV 'L'-32 7 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21CE A9 2C			lda #'L'-32
     2 21D0 A2 07			ldx #7
     3 21D2 A0 17			ldy #23
     4 21D4 20 08 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    60 21D7				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21D7 A5 14			lda RTCLOCK_0
     2 21D9 18 69 19			add #25
     3 21DC			SLEEP_LOOP:
     4 21DC C5 14			cmp RTCLOCK_0
     5 21DE D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    61 21E0				ZX_PRINT 'L'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21E0 A9 2C			lda #'L'-32
     2 21E2 A2 07			ldx #7
     3 21E4 A0 17			ldy #23
     4 21E6 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    62 21E9				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21E9 A5 14			lda RTCLOCK_0
     2 21EB 18 69 19			add #25
     3 21EE			SLEEP_LOOP:
     4 21EE C5 14			cmp RTCLOCK_0
     5 21F0 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    63 					
    64 					
    65 					
    15 21F2				ICL "zx_load.asm"	
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     1 21F2 20 79 26			jsr screen_clear
     2 					
     3 21F5				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21F5 A5 14			lda RTCLOCK_0
     2 21F7 18 69 19			add #25
     3 21FA			SLEEP_LOOP:
     4 21FA C5 14			cmp RTCLOCK_0
     5 21FC D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     4 21FE A9 AC			lda #COLOR_CYAN
     5 2200 8D C8 02			sta GR8_FRAME
     6 2203				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2203 A5 14			lda RTCLOCK_0
     2 2205 18 69 19			add #25
     3 2208			SLEEP_LOOP:
     4 2208 C5 14			cmp RTCLOCK_0
     5 220A D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     7 220C A9 0E			lda #COLOR_WHITE
     8 220E 8D C8 02			sta GR8_FRAME
     9 					
    10 2211				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2211 A5 14			lda RTCLOCK_0
     2 2213 18 69 19			add #25
     3 2216			SLEEP_LOOP:
     4 2216 C5 14			cmp RTCLOCK_0
     5 2218 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    11 221A A9 AC			lda #COLOR_CYAN
    12 221C 8D C8 02			sta GR8_FRAME
    13 221F				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 221F A5 14			lda RTCLOCK_0
     2 2221 18 69 19			add #25
     3 2224			SLEEP_LOOP:
     4 2224 C5 14			cmp RTCLOCK_0
     5 2226 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    14 2228 A9 0E			lda #COLOR_WHITE
    15 222A 8D C8 02			sta GR8_FRAME
    16
    17 222D				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 222D A5 14			lda RTCLOCK_0
     2 222F 18 69 19			add #25
     3 2232			SLEEP_LOOP:
     4 2232 C5 14			cmp RTCLOCK_0
     5 2234 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    18 2236 A9 AC			lda #COLOR_CYAN
    19 2238 8D C8 02			sta GR8_FRAME
    20
    21 223B				DLI_ENABLE zx_dli_header_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 223B A9 2D 8D 00 02 A9 + 	mwa #ZX_DLI_HEADER_BLOCK VDSLST
     2 2245 A9 C0			lda #$c0
     3 2247 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    22 224A				SLEEP 175
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 224A A5 14			lda RTCLOCK_0
     2 224C 18 69 AF			add #175
     3 224F			SLEEP_LOOP:
     4 224F C5 14			cmp RTCLOCK_0
     5 2251 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    23 2253				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2253 A9 40			lda #$40
     2 2255 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    24 					
    25 2258				ZX_PRINT 'P'-32 0 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2258 A9 30			lda #'P'-32
     2 225A A2 00			ldx #0
     3 225C A0 00			ldy #0
     4 225E 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    26 2261				ZX_PRINT 'r'-32 1 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2261 A9 52			lda #'r'-32
     2 2263 A2 01			ldx #1
     3 2265 A0 00			ldy #0
     4 2267 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    27 226A				ZX_PRINT 'o'-32 2 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 226A A9 4F			lda #'o'-32
     2 226C A2 02			ldx #2
     3 226E A0 00			ldy #0
     4 2270 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    28 2273				ZX_PRINT 'g'-32 3 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2273 A9 47			lda #'g'-32
     2 2275 A2 03			ldx #3
     3 2277 A0 00			ldy #0
     4 2279 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    29 227C				ZX_PRINT 'r'-32 4 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 227C A9 52			lda #'r'-32
     2 227E A2 04			ldx #4
     3 2280 A0 00			ldy #0
     4 2282 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    30 2285				ZX_PRINT 'a'-32 5 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2285 A9 41			lda #'a'-32
     2 2287 A2 05			ldx #5
     3 2289 A0 00			ldy #0
     4 228B 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    31 228E				ZX_PRINT 'm'-32 6 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 228E A9 4D			lda #'m'-32
     2 2290 A2 06			ldx #6
     3 2292 A0 00			ldy #0
     4 2294 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    32 2297				ZX_PRINT ':'-32 7 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2297 A9 1A			lda #':'-32
     2 2299 A2 07			ldx #7
     3 229B A0 00			ldy #0
     4 229D 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    33 					
    34 22A0				ZX_PRINT 'R'-32 9 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22A0 A9 32			lda #'R'-32
     2 22A2 A2 09			ldx #9
     3 22A4 A0 00			ldy #0
     4 22A6 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    35 22A9				ZX_PRINT 'A'-32 10 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22A9 A9 21			lda #'A'-32
     2 22AB A2 0A			ldx #10
     3 22AD A0 00			ldy #0
     4 22AF 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    36 22B2				ZX_PRINT 'I'-32 11 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22B2 A9 29			lda #'I'-32
     2 22B4 A2 0B			ldx #11
     3 22B6 A0 00			ldy #0
     4 22B8 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    37 22BB				ZX_PRINT 'N'-32 12 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22BB A9 2E			lda #'N'-32
     2 22BD A2 0C			ldx #12
     3 22BF A0 00			ldy #0
     4 22C1 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    38 22C4				ZX_PRINT 'B'-32 13 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22C4 A9 22			lda #'B'-32
     2 22C6 A2 0D			ldx #13
     3 22C8 A0 00			ldy #0
     4 22CA 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    39 22CD				ZX_PRINT 'O'-32 14 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22CD A9 2F			lda #'O'-32
     2 22CF A2 0E			ldx #14
     3 22D1 A0 00			ldy #0
     4 22D3 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    40 22D6				ZX_PRINT 'W'-32 15 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22D6 A9 37			lda #'W'-32
     2 22D8 A2 0F			ldx #15
     3 22DA A0 00			ldy #0
     4 22DC 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    41 22DF				ZX_PRINT 'O'-32 16 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22DF A9 2F			lda #'O'-32
     2 22E1 A2 10			ldx #16
     3 22E3 A0 00			ldy #0
     4 22E5 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    42 22E8				ZX_PRINT 'M'-32 17 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22E8 A9 2D			lda #'M'-32
     2 22EA A2 11			ldx #17
     3 22EC A0 00			ldy #0
     4 22EE 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    43 22F1				ZX_PRINT 'I'-32 18 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22F1 A9 29			lda #'I'-32
     2 22F3 A2 12			ldx #18
     3 22F5 A0 00			ldy #0
     4 22F7 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    44 22FA				ZX_PRINT 'T'-32 19 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22FA A9 34			lda #'T'-32
     2 22FC A2 13			ldx #19
     3 22FE A0 00			ldy #0
     4 2300 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    45 2303				SLEEP 100
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2303 A5 14			lda RTCLOCK_0
     2 2305 18 69 64			add #100
     3 2308			SLEEP_LOOP:
     4 2308 C5 14			cmp RTCLOCK_0
     5 230A D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    46 					
    47 230C				DLI_ENABLE zx_dli_data_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 230C A9 67 8D 00 02 A9 + 	mwa #ZX_DLI_DATA_BLOCK VDSLST
     2 2316 A9 C0			lda #$c0
     3 2318 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    48 231B				SLEEP 175
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 231B A5 14			lda RTCLOCK_0
     2 231D 18 69 AF			add #175
     3 2320			SLEEP_LOOP:
     4 2320 C5 14			cmp RTCLOCK_0
     5 2322 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    49 2324				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2324 A9 40			lda #$40
     2 2326 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    50 					
    51 					
    52 					
    53 						
    54 					
    55 					
    16 2329				ICL "zx_load_screen.asm"	
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
     1 2329 20 79 26			jsr screen_clear
     2 					
     3 232C				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 232C A5 14			lda RTCLOCK_0
     2 232E 18 69 19			add #25
     3 2331			SLEEP_LOOP:
     4 2331 C5 14			cmp RTCLOCK_0
     5 2333 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
     4 2335 A9 AC			lda #COLOR_CYAN
     5 2337 8D C8 02			sta GR8_FRAME
     6 233A				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 233A A5 14			lda RTCLOCK_0
     2 233C 18 69 19			add #25
     3 233F			SLEEP_LOOP:
     4 233F C5 14			cmp RTCLOCK_0
     5 2341 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
     7 2343 A9 0E			lda #COLOR_WHITE
     8 2345 8D C8 02			sta GR8_FRAME
     9 					
    10 2348				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2348 A5 14			lda RTCLOCK_0
     2 234A 18 69 19			add #25
     3 234D			SLEEP_LOOP:
     4 234D C5 14			cmp RTCLOCK_0
     5 234F D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    11 2351 A9 AC			lda #COLOR_CYAN
    12 2353 8D C8 02			sta GR8_FRAME
    13 2356				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2356 A5 14			lda RTCLOCK_0
     2 2358 18 69 19			add #25
     3 235B			SLEEP_LOOP:
     4 235B C5 14			cmp RTCLOCK_0
     5 235D D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    14 235F A9 0E			lda #COLOR_WHITE
    15 2361 8D C8 02			sta GR8_FRAME
    16
    17 2364				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2364 A5 14			lda RTCLOCK_0
     2 2366 18 69 19			add #25
     3 2369			SLEEP_LOOP:
     4 2369 C5 14			cmp RTCLOCK_0
     5 236B D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    18 236D A9 AC			lda #COLOR_CYAN
    19 236F 8D C8 02			sta GR8_FRAME
    20
    21 2372				DLI_ENABLE zx_dli_header_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2372 A9 2D 8D 00 02 A9 + 	mwa #ZX_DLI_HEADER_BLOCK VDSLST
     2 237C A9 C0			lda #$c0
     3 237E 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    22 2381				SLEEP 175
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2381 A5 14			lda RTCLOCK_0
     2 2383 18 69 AF			add #175
     3 2386			SLEEP_LOOP:
     4 2386 C5 14			cmp RTCLOCK_0
     5 2388 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    23 238A				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 238A A9 40			lda #$40
     2 238C 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    24 					
    25 238F				ZX_PRINT 'B'-32 0 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 238F A9 22			lda #'B'-32
     2 2391 A2 00			ldx #0
     3 2393 A0 00			ldy #0
     4 2395 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    26 2398				ZX_PRINT 'y'-32 1 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2398 A9 59			lda #'y'-32
     2 239A A2 01			ldx #1
     3 239C A0 00			ldy #0
     4 239E 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    27 23A1				ZX_PRINT 't'-32 2 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23A1 A9 54			lda #'t'-32
     2 23A3 A2 02			ldx #2
     3 23A5 A0 00			ldy #0
     4 23A7 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    28 23AA				ZX_PRINT 'e'-32 3 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23AA A9 45			lda #'e'-32
     2 23AC A2 03			ldx #3
     3 23AE A0 00			ldy #0
     4 23B0 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    29 23B3				ZX_PRINT 's'-32 4 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23B3 A9 53			lda #'s'-32
     2 23B5 A2 04			ldx #4
     3 23B7 A0 00			ldy #0
     4 23B9 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    30 23BC				ZX_PRINT ':'-32 5 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23BC A9 1A			lda #':'-32
     2 23BE A2 05			ldx #5
     3 23C0 A0 00			ldy #0
     4 23C2 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    31 					
    32 23C5				ZX_PRINT 'U'-32 7 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23C5 A9 35			lda #'U'-32
     2 23C7 A2 07			ldx #7
     3 23C9 A0 00			ldy #0
     4 23CB 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    33 23CE				ZX_PRINT 'N'-32 8 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23CE A9 2E			lda #'N'-32
     2 23D0 A2 08			ldx #8
     3 23D2 A0 00			ldy #0
     4 23D4 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    34 23D7				ZX_PRINT 'I'-32 9 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23D7 A9 29			lda #'I'-32
     2 23D9 A2 09			ldx #9
     3 23DB A0 00			ldy #0
     4 23DD 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    35 23E0				ZX_PRINT 'C'-32 10 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23E0 A9 23			lda #'C'-32
     2 23E2 A2 0A			ldx #10
     3 23E4 A0 00			ldy #0
     4 23E6 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    36 23E9				ZX_PRINT 'O'-32 11 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23E9 A9 2F			lda #'O'-32
     2 23EB A2 0B			ldx #11
     3 23ED A0 00			ldy #0
     4 23EF 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    37 23F2				ZX_PRINT 'R'-32 12 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23F2 A9 32			lda #'R'-32
     2 23F4 A2 0C			ldx #12
     3 23F6 A0 00			ldy #0
     4 23F8 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    38 23FB				ZX_PRINT 'N'-32 13 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23FB A9 2E			lda #'N'-32
     2 23FD A2 0D			ldx #13
     3 23FF A0 00			ldy #0
     4 2401 20 44 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    39 2404				SLEEP 100
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2404 A5 14			lda RTCLOCK_0
     2 2406 18 69 64			add #100
     3 2409			SLEEP_LOOP:
     4 2409 C5 14			cmp RTCLOCK_0
     5 240B D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    40
    41 240D A9 00 85 ED A9 70 + 	mwa #image_data_unicorn src
    42 2415 A9 00 85 EF A9 40 + 	mwa #screen_mem_1 dst
    43 					
    44 241D				DLI_ENABLE zx_dli_data_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 241D A9 67 8D 00 02 A9 + 	mwa #ZX_DLI_DATA_BLOCK VDSLST
     2 2427 A9 C0			lda #$c0
     3 2429 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    45
    46 					
    47 242C 20 F8 25			jsr zx_copy_screen_block
    48 242F				SLEEP 50
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 242F A5 14			lda RTCLOCK_0
     2 2431 18 69 32			add #50
     3 2434			SLEEP_LOOP:
     4 2434 C5 14			cmp RTCLOCK_0
     5 2436 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    49
    50 2438				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2438 A9 40			lda #$40
     2 243A 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    51 					
    17 					
    18 243D 60				rts
    19 				;	jmp zx_loop
    20 					
    21 				;	PM_SHOW
    22
    23 					
    18 243E				ICL 'zx_func.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
     1 243E 00 00		zx_print_x: dta 0,0
     2 2440 00 00		zx_print_y: dta 0,0
     3 2442 00 00		zx_print_a: dta 0,0
     4
     5 2444			zx_print_func:
     6 2444 8E 3E 24			stx zx_print_x 
     7 2447 8C 40 24			sty zx_print_y 
     8 244A 8D 42 24			sta zx_print_a 
     9
    10 244D A9 00 85 ED A9 90 + 	mwa #image_data_zx_font src
    11 2455 A5 F3 85 EF A5 F4 + 	mwa screen_adr dst
    12 					
    13 245D 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    14 246C 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    15 247B 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    16 248A 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    17 2499 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    18 24A8 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    19 24B7 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    20 24C6 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    21 					
    22 24D5 A5 F0			lda dst+1
    23 24D7 6D 40 24			adc zx_print_y
    24 24DA 85 F0			sta dst+1
    25
    26 24DC 18 A5 EF 6D 3E 24 + 	ADW dst zx_print_x
    27 					
    28 24EB A2 08			ldx #8
    29 24ED A0 00			ldy #0
    30 24EF			zx_print_func_loop:
    31 24EF B1 ED			lda (src),y
    32 24F1 91 EF			sta (dst),y
    33 24F3 E6 ED D0 02 E6 EE		INW src
    34 24F9 18 A5 EF 69 20 85 + 	ADW dst #32
    35 2504 CA				dex
    36 2505 D0 E8			bne zx_print_func_loop
    37
    38 2507 60				rts
    39
    40 				.MACRO ZX_PRINT letter position_x position_y
    41 					lda #:letter
    42 					ldx #:position_x
    43 					ldy #:position_y
    44 					jsr zx_print_func
    45 				.ENDM
    46
    47 2508			zx_print_inv_func:
    48 2508 8D 42 24			sta zx_print_a 
    49 250B 8E 3E 24			stx zx_print_x 
    50 250E 8C 40 24			sty zx_print_y 
    51
    52 2511 A9 00 85 ED A9 90 + 	mwa #image_data_zx_font src
    53 2519 A5 F3 85 EF A5 F4 + 	mwa screen_adr dst
    54 					
    55 2521 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    56 2530 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    57 253F 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    58 254E 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    59 255D 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    60 256C 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    61 257B 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    62 258A 18 A5 ED 6D 42 24 + 	ADW src zx_print_a
    63 					
    64 2599 A5 F0			lda dst+1
    65 259B 6D 40 24			adc zx_print_y
    66 259E 85 F0			sta dst+1 
    67
    68 25A0 18 A5 EF 6D 3E 24 + 	ADW dst zx_print_x
    69 					
    70 25AF A2 08			ldx #8
    71 25B1 A0 00			ldy #0
    72 25B3			zx_print_inv_func_loop:
    73 25B3 B1 ED			lda (src),y
    74 25B5 49 FF			eor #$ff
    75 25B7 91 EF			sta (dst),y
    76 25B9 E6 ED D0 02 E6 EE		INW src
    77 25BF 18 A5 EF 69 20 85 + 	ADW dst #32
    78 25CA CA				dex
    79 25CB D0 E6			bne zx_print_inv_func_loop
    80
    81 25CD 60				rts
    82
    83 				.MACRO ZX_PRINT_INV letter position_x position_y
    84 					lda #:letter
    85 					ldx #:position_x
    86 					ldy #:position_y
    87 					jsr zx_print_inv_func
    88 				.ENDM
    89
    90 				; src
    91 				; dst
    92 				; tmp_word (0,1)
    93 25CE			zx_copy_line:
    94 25CE				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 25CE 48				pha
     2 25CF 8A				txa
     3 25D0 48				pha
     4 25D1 98				tya
     5 25D2 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
    95 25D3 A2 08			ldx #8
    96 25D5			zx_load_screen_8_lines_loop:
    97 25D5 A0 00			ldy #0
    98 25D7			zx_load_screen_line_loop:
    99 25D7 B1 ED			lda (src),y
   100 25D9 91 EF			sta (dst),y
   101 25DB C8				iny
   102 25DC 98				tya
   103 25DD C9 20			cmp #32
   104 25DF D0 F6			bne zx_load_screen_line_loop
   105 25E1 A5 EE			lda src+1
   106 25E3 18				clc
   107 25E4 69 01			adc #1
   108 25E6 85 EE			sta src+1
   109 25E8 A5 F0			lda dst+1
   110 25EA 18				clc
   111 25EB 69 01			adc #1
   112 25ED 85 F0			sta dst+1
   113 25EF CA				dex
   114 25F0 D0 E3			bne zx_load_screen_8_lines_loop
   115 25F2				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 25F2 68				pla
     2 25F3 A8				tay
     3 25F4 68				pla
     4 25F5 AA				tax
     5 25F6 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
   116 25F7 60				rts
   117 					
   118 25F8			zx_copy_screen_block:
   119 25F8				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 25F8 48				pha
     2 25F9 8A				txa
     3 25FA 48				pha
     4 25FB 98				tya
     5 25FC 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
   120 25FD A0 03			ldy #3
   121 25FF			zx_copy_screen_block_loop0:	
   122 25FF A2 08			ldx #8
   123 2601			zx_copy_screen_block_loop1:
   124 2601 20 CE 25			jsr zx_copy_line
   125 2604 A5 ED			lda src
   126 2606 18				clc
   127 2607 69 20			adc #32
   128 2609 85 ED			sta src
   129 260B A5 EE			lda src+1
   130 260D 69 00			adc #0
   131 260F 85 EE			sta src+1
   132
   133 2611 A5 EF			lda dst
   134 2613 18				clc
   135 2614 69 20			adc #32
   136 2616 85 EF			sta dst
   137 2618 A5 F0			lda dst+1
   138 261A 69 00			adc #0
   139 261C 85 F0			sta dst+1
   140
   141 261E A5 EE			lda src+1
   142 2620 38				sec
   143 2621 E9 08			sbc #$08
   144 2623 85 EE			sta src+1
   145 2625 A5 F0			lda dst+1
   146 2627 38				sec
   147 2628 E9 08			sbc #$08
   148 262A 85 F0			sta dst+1
   149 262C CA				dex
   150 262D D0 D2			bne zx_copy_screen_block_loop1
   151 					
   152 262F A5 EE			lda src+1
   153 2631 18				clc
   154 2632 69 07			adc #$07
   155 2634 85 EE			sta src+1
   156 2636 A5 F0			lda dst+1
   157 2638 18				clc
   158 2639 69 07			adc #$07
   159 263B 85 F0			sta dst+1
   160 					
   161 263D 88				dey
   162 263E D0 BF			bne zx_copy_screen_block_loop0
   163 					
   164 2640				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2640 68				pla
     2 2641 A8				tay
     3 2642 68				pla
     4 2643 AA				tax
     5 2644 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
   165 2645 60				rts
    19 2646				ICL 'func.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
     1 				; copy 256 byte block from src to dst
     2
     3 2646			memcopy_block_func:
     4 2646				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2646 48				pha
     2 2647 8A				txa
     3 2648 48				pha
     4 2649 98				tya
     5 264A 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
     5
     6 264B A0 00			ldy #0
     7 264D			memcopy_block_loop:	
     8 264D B1 E9		 	lda (memcopy_block_src),y
     9 264F 91 EB		 	sta (memcopy_block_dst),y
    10 2651 C8			 	iny
    11 2652 D0 F9		 	bne memcopy_block_loop
    12
    13 2654			 	REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2654 68				pla
     2 2655 A8				tay
     3 2656 68				pla
     4 2657 AA				tax
     5 2658 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    14 2659 60			 	rts
    15
    16 				.MACRO MEMCOPY_BLOCK src dst
    17 					mwa #:src memcopy_block_src
    18 					mwa #:dst memcopy_block_dst
    19 					
    20 					jsr memcopy_block_func
    21 				.ENDM
    22
    23 265A			memcopy_screen_func:
    24 265A				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 265A 48				pha
     2 265B 8A				txa
     3 265C 48				pha
     4 265D 98				tya
     5 265E 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    25 					
    26 265F A2 18			ldx #24
    27 2661			memcopy_screen_func_loop:
    28 2661 20 46 26			jsr memcopy_block_func
    29 2664 A5 EA			lda memcopy_block_src+1
    30 2666 69 01			adc #1
    31 2668 85 EA			sta memcopy_block_src+1	
    32 266A A5 EC			lda memcopy_block_dst+1
    33 266C 69 01			adc #1
    34 266E 85 EC			sta memcopy_block_dst+1	
    35 2670 CA				dex
    36 2671 D0 EE			bne memcopy_screen_func_loop
    37 					
    38 2673				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2673 68				pla
     2 2674 A8				tay
     3 2675 68				pla
     4 2676 AA				tax
     5 2677 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    39 2678 60				rts
    40
    41 				.MACRO MEMCOPY_SCREEN src dst
    42 					mwa #:src memcopy_block_src
    43 					mwa #:dst memcopy_block_dst
    44 					
    45 					jsr memcopy_screen_func	
    46 				.ENDM
    47
    48 2679			screen_clear:
    49 2679				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2679 48				pha
     2 267A 8A				txa
     3 267B 48				pha
     4 267C 98				tya
     5 267D 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    50 267E A5 F3 8D 8F 26 A5 + 	mwa screen_adr screen_clear_loop_2+1
    51 2688 A9 00			lda #0
    52 268A A2 18			ldx #24
    53 268C			screen_clear_loop_1
    54 268C A0 00			ldy #0	
    55 268E			screen_clear_loop_2	
    56 268E 99 00 00			sta $0000,y
    57 2691 C8				iny
    58 2692 D0 FA			bne screen_clear_loop_2
    59 2694 EE 90 26			inc screen_clear_loop_2+2
    60 2697 CA				dex
    61 2698 D0 F4			bne screen_clear_loop_2
    62 269A				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 269A 68				pla
     2 269B A8				tay
     3 269C 68				pla
     4 269D AA				tax
     5 269E 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    63 269F 60				rts	
    64
    65 26A0			screen_fill:
    66 26A0				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 26A0 48				pha
     2 26A1 8A				txa
     3 26A2 48				pha
     4 26A3 98				tya
     5 26A4 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    67 26A5 A5 F3 8D B6 26 A5 + 	mwa screen_adr screen_fill_loop_2+1
    68 26AF A9 FF			lda #255
    69 26B1 A2 18			ldx #24
    70 26B3			screen_fill_loop_1
    71 26B3 A0 00			ldy #0	
    72 26B5			screen_fill_loop_2	
    73 26B5 99 00 00			sta $0000,y
    74 26B8 C8				iny
    75 26B9 D0 FA			bne screen_fill_loop_2
    76 26BB EE B7 26			inc screen_fill_loop_2+2
    77 26BE CA				dex
    78 26BF D0 F4			bne screen_fill_loop_2
    79 26C1				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 26C1 68				pla
     2 26C2 A8				tay
     3 26C3 68				pla
     4 26C4 AA				tax
     5 26C5 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    80 26C6 60				rts	
    81
    82 					
    83 26C7			screen_set_read_1:
    84 					; load display list address to register
    85 26C7 A9 00 8D 30 02 A9 + 	mwa #dl_antic_1 DLIST
    86 26D1 60				rts
    87 26D2			screen_set_write_1:
    88 					; switch working buffer pointer
    89 26D2 A9 00 85 F3 A9 40 + 	mwa #screen_mem_1 screen_adr
    90 26DA 60				rts
    91
    92 26DB			screen_set_read_2:
    93 					; load display list address to register
    94 26DB A9 CC 8D 30 02 A9 + 	mwa #dl_antic_2 DLIST
    95 26E5 60				rts
    96 26E6			screen_set_write_2:	
    97 					; switch working buffer pointer
    98 26E6 A9 00 85 F3 A9 58 + 	mwa #screen_mem_2 screen_adr
    99 26EE 60				rts
   100 					
    20 26EF				ICL 'screen_mem.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\screen_mem.asm
     1 26EF				org $4000
     2
     3 = 4000			screen_mem_1 = $4000
     4 = 4800			screen_mem_1_1 = $4800
     5 = 5000			screen_mem_1_2 = $5000
     6 4000-87FF> 00 00 00 00 + 	:6144 dta 0
     7 					
     8 5800				org $5800
     9 = 5800			screen_mem_2 = $5800
    10 = 6000			screen_mem_2_1 = $6000
    11 = 6800			screen_mem_2_2 = $6800
    12 5800 00 00 00 00 00 00 + 	:6144 dta 0
    13
    14 7000				org $7000
    15 = 7000			image_data_unicorn = $7000
    16 7000				.local graphics
    17 7000 00 00 00 00 00 00 + 	ins "..\pic\unicorn2inv.gr8"
    18 					.endl
    19 					
    20 8800				org $9000
    21 9000			image_data_zx_font:
    22 9000				.local graphics
    23 9000-92FF> 00 00 00 00 + 	ins "..\pic\zx_font.fnt"
    24 					.endl
    25
    26
    21 9300				ICL 'display_list_const.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\display_list_const.asm
     1 = 0012			RTCLOCK_2 = $12
     2 = 0013			RTCLOCK_1 = $13
     3 = 0014			RTCLOCK_0 = $14
     4
     5 = 0230			DLIST   = $230
     6 = 0230			DLISTL  = $230 ; display list pointer low byte
     7 = 0231			DLISTH  = $231 ;                      high byte
     8 = 02C8			COLRBK  = $2C8
     9
    10 = D016			COLPF0	= $D016  
    11 = D017			COLPF1	= $D017  
    12 = D018			COLPF2	= $D018  
    13 = D019			COLPF3	= $D019
    14 = D01A			COLBG	= $D01A 
    15
    16 = 02C4			COLOR0	= $02C4
    17 = 02C5			COLOR1	= $02C5
    18 = 02C6			COLOR2	= $02C6
    19 = 02C7			COLOR3	= $02C7
    20 = 02C8			COLOR4 	= $02C8
    21
    22 = 022F			SDMCTL  = $022F
    23 = 022F			DMACTLS = $022F
    24 = D400			DMACTL  = $D400
    25 = 0200			VDSLST  = $0200 ; display list interrupt vector
    26 = D40E			NMEN	= $D40E
    27 = D40E			NMIEN	= $D40E ; bit 7
    28 = D40A			WSYNC   = $D40A
    29 = D40B			VCOUNT  = $D40B
    30
    31 = 02C5			GR8_PEN   = COLOR1
    32 = 02C6			GR8_PAPER = COLOR2
    33 = 02C8			GR8_FRAME = COLOR4 
    34
    35 = D017			DLI_PEN   = COLPF1
    36 = D018			DLI_PAPER = COLPF2
    37 = D01A			DLI_FRAME = COLBG 
    38
    39 = 0000			COLOR_BLACK = $00
    40 = 000E			COLOR_WHITE = $0E
    41 = 00AC			COLOR_CYAN  = $ac
    42 = 0043			COLOR_RED   = $43
    43
    44 = D012			COLPM0	= $D012
    45 = D013			COLPM1	= $D013
    46 = D014			COLPM2	= $D014
    47 = D015			COLPM3	= $D015
    48
    49 = 02C0			COLPM0S	= $02C0
    50 = 02C1			COLPM1S	= $02C1
    51 = 02C2			COLPM2S	= $02C2
    52 = 02C3			COLPM3S	= $02C3
    53
    54
    55 = D008			SIZEP0	= $D008
    56 = D009			SIZEP1	= $D009
    57 = D00A			SIZEP2	= $D00A
    58 = D00B			SIZEP3	= $D00B
    59
    60 = D00C			SIZEM	= $D00C
    61
    62 = D000			HPOSP0	= $D000
    63 = D001			HPOSP1	= $D001
    64 = D002			HPOSP2	= $D002
    65 = D003			HPOSP3	= $D003
    66
    67 = D004			HPOSM0	= $D004
    68 = D005			HPOSM1	= $D005
    69 = D006			HPOSM2	= $D006
    70 = D007			HPOSM3	= $D007
    71
    72 = D01C			VDELAY	= $D01C
    73
    74 = D01B			GTIACTL	= $D01B
    75 = 026F			GTIACTLS = $026F
    76
    77 = D01D			PMCTL	= $D01D
    78
    79 = D407			PMBASE = $D407
    80
    81 				;     SAVMSC $0058,2       (88): pointer to current screen for CIO commands
    82 				;     RAMTOP $006A        (106): start-of-ROM pointer (MSB only)
    83 				;     VDSLST $0200,2      (512): DLI vector
    84 				;     RAMSIZ $02E4        (740): permanent start-of-ROM pointer (MSB only)
    85 				;     DLISTL $D402      (54274): display list pointer low byte
    86 				;     DLISTH $D403      (54275):     "    high byte
    87 				;     HSCROL $D404      (54276): horizontal scroll register
    88 				;     VSCROL $D405      (54277): vertical scroll register
    89 				;     NMIEN  $D40E      (54286): NMI enable (DLIs)
    90 				;     
    91 				;     
    92 				;                               Shadow registers
    93 				;     
    94 				;     
    95 				;     SDLSTL $0230        (560): DLISTL
    96 				;     SDLSTH $0231        (561): DLISTH
    22 9300				ICL 'display_list.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\display_list.asm
     1
     2 9300				org $3800
     3 				; DL for first buffer	
     4 3800-39C8> F0 70 70	dl_antic_1	dta $F0,$70,$70              ; 3x8 empty scanlines + interrupt
     5 3803 4F 00 40				dta b($4f),a(screen_mem_1)   ; $0f - mode, $40 - addr of 1/3 screen bitmap 
     6 3806 0F 0F 0F 0F 0F 0F + 		:62 dta b($0f)               ; 63 lines of $0f 
     7 3844 0F					dta b($0f)                   ; 1 line of $0f + DLI 
     8 3845 4F 00 48				dta b($4f),a(screen_mem_1_1) ; $0f - mode, $40 - addr of 2/3 screen bitmap
     9 3848 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)	             ; 63 lines of $0f 
    10 3887 4F 00 50				dta b($4f),a(screen_mem_1_2) ; $0f - mode, $40 - addr of 3/3 screen bitmap
    11 388A 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f
    12 38C9 41 00 38				dta b($41),a(dl_antic_1)     ; jump to DL start
    13 				; DL for second buffer	
    14 38CC F0 70 70		dl_antic_2	dta $F0,$70,$70              ; 3x8 empty scanlines  + interrupt
    15 38CF 4F 00 58				dta b($4f),a(screen_mem_2)   ; $0f - mode, $40 - addr of 1/3 screen bitmap
    16 38D2 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f 
    17 3911 4F 00 60				dta b($4f),a(screen_mem_2_1) ; $0f - mode, $40 - addr of 2/3 screen bitmap
    18 3914 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)	             ; 63 lines of $0f 
    19 3953 4F 00 68				dta b($4f),a(screen_mem_2_2) ; $0f - mode, $40 - addr of 3/3 screen bitmap
    20 3956 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f 
    21 3995 41 CC 38				dta b($41),a(dl_antic_2)     ; jump to DL start 
    22
    23 3998			dl_set_mode
    24 3998 A9 39			lda #57
    25 399A 8D 2F 02			sta DMACTLS
    26
    27 399D A9 00			lda #COLOR_BLACK     
    28 399F 8D C5 02			sta GR8_PEN
    29 39A2 A9 00			lda #COLOR_BLACK     
    30 39A4 8D C6 02			sta GR8_PAPER
    31 39A7 A9 00			lda #COLOR_BLACK     
    32 39A9 8D C8 02			sta GR8_FRAME
    33 					
    34 39AC A9 0E			lda #COLOR_WHITE
    35 39AE 8D C5 02			sta COLOR1
    36 39B1 A9 00			lda #COLOR_BLACK
    37 39B3 8D C6 02			sta COLOR2
    38 					
    39 39B6 60				rts
    40
    41 						
    23 39B7				ICL 'wait_vsync.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\wait_vsync.asm
     1
     2
     3 39B7			wait_hsync:
     4
     5 39B7 48				pha
     6
     7 39B8 A9 52			lda #$52
     8 39BA 8D 0A D4			sta WSYNC	;WAIT
     9 39BD 68				pla
    10
    11 39BE 60				rts
    12
    13
    14 39BF			wait_vsync:
    15 39BF 48				pha
    16 39C0			wait_vsync_loop:
    17 39C0 AD 0B D4			lda VCOUNT
    18 39C3 C9 64			cmp #100
    19 39C5 D0 F9			bne wait_vsync_loop 
    20 					
    21 39C7 68				pla
    22 39C8 60				rts
    23 					
    24 39C9				ICL 'math.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\math.asm
     1 39C9				org $1D00
     2 					
     3 				;MATH_SIN_LEN = 16
     4 				;MATH_SIN_MASK = %00001111	
     5 				; math_sin dta 127,176,218,245,255,245,218,176,127,78,36,9,0,9,36,78
     6 				; math_sin dta 128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79
     7 				        
     8 				;MATH_SIN_LEN = 64
     9 				;MATH_SIN_MASK = %00111111	
    10 				;math_sin dta 128,140,152,165,176,188,198,208,218,226,234,240,245,250,253,254,255,254,253,250,245,240,234,226,218,208,198,188,176,165,152,140,128,115,103,90,79,67,57,47,37,29,21,15,10,5,2,1,0,1,2,5,10,15,21,29,37,47,57,67,79,90,103,115
    11
    12 = 0100			MATH_SIN_LEN = 256
    13 = 00FF			MATH_SIN_MASK = %11111111	
    14 1D00-1F0F> 80 83 86 89 + math_sin dta 128,131,134,137,140,143,146,149,152,155,158,162,165,167,170,173,176,179,182,185,188,190,193,196,198,201,203,206,208,211,213,215,218,220,222,224,226,228,230,232,234,235,237,238,240,241,243,244,245,246,248,249,250,250,251,252,253,253,254,254,254,255,0,0,0,0,0,255,254,254,254,253,253,252,251,250,250,249,248,246,245,244,243,241,240,238,237,235,234,232,230,228,226,224,222,220,218,215,213,211,208,206,203,201,198,196,193,190,188,185,182,179,176,173,170,167,165,162,158,155,152,149,146,143,140,137,134,131,128,124,121,118,115,112,109,106,103,100,97,93,90,88,85,82,79,76,73,70,67,65,62,59,57,54,52,49,47,44,42,40,37,35,33,31,29,27,25,23,21,20,18,17,15,14,12,11,10,9,7,6,5,5,4,3,2,2,1,1,1,0,0,0,0,0,0,0,1,1,1,2,2,3,4,5,5,6,7,9,10,11,12,14,15,17,18,20,21,23,25,27,29,31,33,35,37,40,42,44,47,49,52,54,57,59,62,65,67,70,73,76,79,82,85,88,90,93,97,100,103,106,109,112,115,118,121,124
    15
    16 = 0010			MATH_SIN_LEN_16 = 16
    17 = 000F			MATH_SIN_MASK_16 = %00001111	
    18 1E00 80 B0 DA F5 FF F5 + math_sin_16 dta 128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79
    19
    20 1F00 C0 C0 60 40 30 27 + math_192_div dta 192,192,96,64,48,39,32,28,24,22,20,18,16,15,14,13
    25 1F10				ICL 'zero.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zero.asm
     1 1F10				org $e0
     2
     3 				;zero_a	dta 0
     4 				;zero_x	dta 0
     5 				;zero_y	dta 0
     6 				;zero_1	dta 0
     7 				;zero_2	dta 0
     8 				;zero_3	dta 0
     9 00E0-00F4> 00		bar_size dta 0
    10 00E1 00			bar_color1 dta 0
    11 00E2 00			bar_color2 dta 0
    12 00E3 00			bar_color10 dta 0
    13 00E4 00			bar_color20 dta 0
    14 00E5			part1_image_data_address: 
    15 00E5 00 00			dta 0,0
    16 00E7			part1_screen_data_address: 
    17 00E7 00 00			dta 0,0
    18 00E9			memcopy_block_src:
    19 00E9 00 00			dta 0,0
    20 00EB			memcopy_block_dst:
    21 00EB 00 00			dta 0,0
    22 00ED			src:
    23 00ED 00 00			dta 0,0
    24 00EF			dst:
    25 00EF 00 00			dta 0,0
    26 00F1			tmp_word:
    27 00F1 00 00			dta 0,0
    28 00F3			screen_adr
    29 00F3 00 00			dta 0,0
    30 					
    26 00F5				ICL 'ghosts.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm
     1 00F5				org $6000
     2
     3 6000			pm_base:
     4 6000-6AA0> FF FF FF FF + 	:768 dta $FF
     5 6300			pm_missle:
     6 6300 FF FF FF FF FF FF + 	:256 dta $FF
     7 6400			pm_player0:
     8 6400 FF FF FF FF FF FF + 	:256 dta $FF
     9 6500			pm_player1:
    10 6500 FF FF FF FF FF FF + 	:256 dta $FF
    11 6600			pm_player2:
    12 6600 FF FF FF FF FF FF + 	:256 dta $FF
    13 6700			pm_player3:
    14 6700 FF FF FF FF FF FF + 	:256 dta $FF
    15 					
    16 				.MACRO PM_SHOW
    17 				
    18 					lda #$60
    19 					sta PMBASE	; PMBASE
    20 				
    21 					lda #1
    22 					sta GTIACTLS		; GTIACTLS
    23 				
    24 					; szeroko
    25 					lda #0
    26 					sta SIZEP0	; SIZEP0
    27 					lda #1
    28 					sta SIZEP1	; SIZEP0
    29 					lda #1
    30 					sta SIZEP2	; SIZEP0
    31 					lda #0
    32 					sta SIZEP3	; SIZEP0
    33 				
    34 					lda #2
    35 					sta PMCTL	; PMCTL
    36 				
    37 					lda #57
    38 					sta DMACTLS		; DMACTLS
    39 				
    40 					; 64 - begin
    41 					; 4,8,12,16
    42 					lda #68
    43 					sta HPOSP0 
    44 				
    45 					lda #88
    46 					sta HPOSP1 
    47 				
    48 					lda #150
    49 					sta HPOSP2 
    50 				
    51 					lda #180
    52 					sta HPOSP3 
    53 				
    54 					lda #14
    55 					sta COLPM0
    56 					sta COLPM1
    57 					sta COLPM2
    58 					sta COLPM3
    59 				
    60 				.ENDM
    61
    62 				.MACRO PM_HIDE
    63 					lda #0
    64 					sta HPOSP0 
    65 					sta HPOSP1 
    66 					sta HPOSP2 
    67 					sta HPOSP3 
    68 				.ENDM
    69
    70
    71 				.MACRO PM_MOVE
    72 					lda RTCLOCK_0
    73 					sta 53248
    74 				.ENDM
    75
    27 6800				ICL 'part1.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6800 00			part1_x dta 0
     2 6801 00			part1_y dta 0
     3 6802 00			part1_d dta 0
     4 6803 00			TMPCLR dta 0
     5
     6 6804 00			part1_tmpx dta 0
     7 6805 00			part1_tmpy dta 0
     8 6806 00			part1_sync: dta 0
     9
    10
    11 6807			part1:
    12 					; set handler for display list interrupt 
    13 				;	mwa #part1_dli_handler VDSLST
    14
    15 					; enable DL interrupt
    16 				;	lda #$c0
    17 				;	sta NMIEN
    18 					
    19 6807				DLI_ENABLE part1_dli_handler
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6807 A9 A5 8D 00 02 A9 + 	mwa #PART1_DLI_HANDLER VDSLST
     2 6811 A9 C0			lda #$c0
     3 6813 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    20
    21 6816 A9 00			lda #COLOR_BLACK     
    22 6818 8D C5 02			sta GR8_PEN
    23 681B A9 00			lda #COLOR_BLACK     
    24 681D 8D C6 02			sta GR8_PAPER
    25 6820 A9 00			lda #COLOR_BLACK     
    26 6822 8D C8 02			sta GR8_FRAME
    27 					
    28 6825 A9 0E			lda #COLOR_WHITE
    29 6827 8D C5 02			sta COLOR1
    30 682A A9 00			lda #COLOR_BLACK
    31 682C 8D C6 02			sta COLOR2
    32
    33 682F 20 D2 26			jsr screen_set_write_1
    34 6832 20 C7 26			jsr screen_set_read_1
    35 					
    36 				;	MEMCOPY_SCREEN image_data_unicorn screen_mem_1
    37 					
    38 6835				PM_SHOW
Macro: PM_SHOW [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm]
     2 6835 A9 60			lda #$60
     3 6837 8D 07 D4			sta PMBASE	; PMBASE
     5 683A A9 01			lda #1
     6 683C 8D 6F 02			sta GTIACTLS		; GTIACTLS
     9 683F A9 00			lda #0
    10 6841 8D 08 D0			sta SIZEP0	; SIZEP0
    11 6844 A9 01			lda #1
    12 6846 8D 09 D0			sta SIZEP1	; SIZEP0
    13 6849 A9 01			lda #1
    14 684B 8D 0A D0			sta SIZEP2	; SIZEP0
    15 684E A9 00			lda #0
    16 6850 8D 0B D0			sta SIZEP3	; SIZEP0
    18 6853 A9 02			lda #2
    19 6855 8D 1D D0			sta PMCTL	; PMCTL
    21 6858 A9 39			lda #57
    22 685A 8D 2F 02			sta DMACTLS		; DMACTLS
    26 685D A9 44			lda #68
    27 685F 8D 00 D0			sta HPOSP0 
    29 6862 A9 58			lda #88
    30 6864 8D 01 D0			sta HPOSP1 
    32 6867 A9 96			lda #150
    33 6869 8D 02 D0			sta HPOSP2 
    35 686C A9 B4			lda #180
    36 686E 8D 03 D0			sta HPOSP3 
    38 6871 A9 0E			lda #14
    39 6873 8D 12 D0			sta COLPM0
    40 6876 8D 13 D0			sta COLPM1
    41 6879 8D 14 D0			sta COLPM2
    42 687C 8D 15 D0			sta COLPM3
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    39
    40
    41 687F			part1_0:
    42
    43 					
    44 687F			part1_0_idle:
    45 					
    46 					;PM_MOVE
    47 					
    48 				;	jmp part1_0_idle
    49
    50 687F				SLEEP 250
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 687F A5 14			lda RTCLOCK_0
     2 6881 18 69 FA			add #250
     3 6884			SLEEP_LOOP:
     4 6884 C5 14			cmp RTCLOCK_0
     5 6886 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    51 6888				SLEEP 250
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6888 A5 14			lda RTCLOCK_0
     2 688A 18 69 FA			add #250
     3 688D			SLEEP_LOOP:
     4 688D C5 14			cmp RTCLOCK_0
     5 688F D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    52 					
    53 6891				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6891 A9 40			lda #$40
     2 6893 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    54 6896				PM_HIDE
Macro: PM_HIDE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm]
     1 6896 A9 00			lda #0
     2 6898 8D 00 D0			sta HPOSP0 
     3 689B 8D 01 D0			sta HPOSP1 
     4 689E 8D 02 D0			sta HPOSP2 
     5 68A1 8D 03 D0			sta HPOSP3 
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    55
    56 68A4 60				rts
    57
    58 68A5			part1_dli_handler:
    59
    60 				; line:
    61 				; 32 cycles - frame (2+26+4)
    62 				; 28 cycles - screen
    63
    64 68A5				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 68A5 48				pha
     2 68A6 8A				txa
     3 68A7 48				pha
     4 68A8 98				tya
     5 68A9 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    65 68AA A9 00			lda #COLOR_BLACK
    66 68AC 8D 18 D0			sta DLI_PAPER ; black
    67
    68
    69 					; bar size
    70 68AF A9 02			lda #2
    71 68B1 85 E0			sta bar_size
    72
    73 68B3 8D 0A D4			:1 sta WSYNC	;WAIT
    74 					
    75 68B6 A9 01			lda #1
    76 68B8 8D 12 D0			sta COLPM0
    77 68BB 8D 13 D0			sta COLPM1
    78 68BE 8D 14 D0			sta COLPM2
    79 68C1 8D 15 D0			sta COLPM3
    80
    81 					; cycle begin
    82 68C4 A2 01			ldx #1
    83 68C6 8D 0A D4			:1 sta WSYNC	;WAIT
    84
    85 				;	lda math_sin_16,x
    86 				;	:4 lsr
    87 				;	adc #1
    88 				;	tax
    89
    90 68C9 8D 0A D4			:1 sta WSYNC
    91 					
    92 68CC A5 13			lda RTCLOCK_1
    93 68CE 8D C0 02			sta 704		; KOLOR
    94
    95 68D1 8D 0A D4 8D 0A D4 + 	:18 sta WSYNC	;WAIT
    96
    97 					; init color value
    98 6907 A4 14			ldy RTCLOCK_0
    99 6909 B9 00 1D			lda math_sin,y
   100 690C 85 E1			sta bar_color1
   101 690E 98				tya
   102 690F 49 FF			eor #$ff
   103 6911 A8				tay
   104 6912 B9 00 1D			lda math_sin,y
   105 6915 85 E2			sta bar_color2
   106
   107 6917 8D 0A D4			:1 sta WSYNC	;WAIT
   108
   109 					; 192 screen lines
   110
   111
   112 691A A6 E1			ldx bar_color1
   113 691C A4 E2			ldy bar_color2
   114
   115 691E				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 691E 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6921 CA				dex
     2 6922 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6923 8C 12 D0			sty COLPM0
     4 6926 8C 13 D0			sty COLPM1
     5 6929 8E 14 D0			stx COLPM2
     6 692C 8E 15 D0			stx COLPM3
     7 692F 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 6932 EA				nop
     2 6933 EA				nop
     3 6934 EA				nop
     4 6935 EA				nop
     5 6936 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6937 EA				nop
    10 6938 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   116 693B				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 693B 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 693E CA				dex
     2 693F 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6940 8C 12 D0			sty COLPM0
     4 6943 8C 13 D0			sty COLPM1
     5 6946 8E 14 D0			stx COLPM2
     6 6949 8E 15 D0			stx COLPM3
     7 694C 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 694F EA				nop
     2 6950 EA				nop
     3 6951 EA				nop
     4 6952 EA				nop
     5 6953 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6954 EA				nop
    10 6955 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   117
   118 6958 A9 38			lda #56
   119 695A			dli_handler_loop_0:
   120 695A				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 695A 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 695D CA				dex
     2 695E 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 695F 8C 12 D0			sty COLPM0
     4 6962 8C 13 D0			sty COLPM1
     5 6965 8E 14 D0			stx COLPM2
     6 6968 8E 15 D0			stx COLPM3
     7 696B 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 696E EA				nop
     2 696F EA				nop
     3 6970 EA				nop
     4 6971 EA				nop
     5 6972 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6973 EA				nop
    10 6974 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   121 6977 E9 01			sbc #1
   122 6979 D0 DF			bne dli_handler_loop_0
   123
   124 697B				LINE_NOP_SHORT
Macro: LINE_NOP_SHORT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 697B 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 697E CA				dex
     2 697F 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6980 8C 12 D0			sty COLPM0
     4 6983 8C 13 D0			sty COLPM1
     5 6986 8E 14 D0			stx COLPM2
     6 6989 8E 15 D0			stx COLPM3
     7 698C 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 698F EA				nop
     2 6990 EA				nop
     3 6991 EA				nop
     4 6992 EA				nop
     5 6993 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6994 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   125
   126 6997 A9 3F			lda #63
   127 6999			dli_handler_loop_1:
   128 6999				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6999 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 699C CA				dex
     2 699D 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 699E 8C 12 D0			sty COLPM0
     4 69A1 8C 13 D0			sty COLPM1
     5 69A4 8E 14 D0			stx COLPM2
     6 69A7 8E 15 D0			stx COLPM3
     7 69AA 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69AD EA				nop
     2 69AE EA				nop
     3 69AF EA				nop
     4 69B0 EA				nop
     5 69B1 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69B2 EA				nop
    10 69B3 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   129 69B6 E9 01			sbc #1
   130 69B8 D0 DF			bne dli_handler_loop_1
   131 69BA				LINE_NOP_SHORT
Macro: LINE_NOP_SHORT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69BA 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 69BD CA				dex
     2 69BE 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 69BF 8C 12 D0			sty COLPM0
     4 69C2 8C 13 D0			sty COLPM1
     5 69C5 8E 14 D0			stx COLPM2
     6 69C8 8E 15 D0			stx COLPM3
     7 69CB 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69CE EA				nop
     2 69CF EA				nop
     3 69D0 EA				nop
     4 69D1 EA				nop
     5 69D2 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69D3 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   132
   133 69D6 A9 3E			lda #62
   134 69D8			dli_handler_loop_2:
   135 69D8				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69D8 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 69DB CA				dex
     2 69DC 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 69DD 8C 12 D0			sty COLPM0
     4 69E0 8C 13 D0			sty COLPM1
     5 69E3 8E 14 D0			stx COLPM2
     6 69E6 8E 15 D0			stx COLPM3
     7 69E9 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69EC EA				nop
     2 69ED EA				nop
     3 69EE EA				nop
     4 69EF EA				nop
     5 69F0 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69F1 EA				nop
    10 69F2 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   136 69F5 E9 01			sbc #1
   137 69F7 D0 DF			bne dli_handler_loop_2
   138
   139 				;	LINE_NOP_SHORT
   140 					
   141 69F9				LINE_NOP_LAST
Macro: LINE_NOP_LAST [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69F9 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     2 69FC 8E 18 D0			stx DLI_PAPER	; 4 cycles
     3 69FF A9 01			lda #1
     4 6A01 8D 12 D0			sta COLPM0
     5 6A04 8D 13 D0			sta COLPM1
     6 6A07 8D 14 D0			sta COLPM2
     7 6A0A 8D 15 D0			sta COLPM3
     1 6A0D EA				nop
     2 6A0E EA				nop
     3 6A0F EA				nop
     4 6A10 EA				nop
     5 6A11 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6A12 EA				nop
    10 6A13 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   142
   143 6A16 A9 01			lda #1
   144 6A18 8D 12 D0			sta COLPM0
   145 6A1B 8D 13 D0			sta COLPM1
   146 6A1E 8D 14 D0			sta COLPM2
   147 6A21 8D 15 D0			sta COLPM3
   148
   149 6A24				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A24 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   150 					
   151
   152 6A27				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A27 68				pla
     2 6A28 A8				tay
     3 6A29 68				pla
     4 6A2A AA				tax
     5 6A2B 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   153 6A2C 40				rti
   154 					
   155 					
   156 					
    28 6A2D				ICL 'zx_dli.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
     1
     2 6A2D			zx_dli_header_block:
     3
     4 6A2D				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A2D 48				pha
     2 6A2E 8A				txa
     3 6A2F 48				pha
     4 6A30 98				tya
     5 6A31 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
     5
     6 					; 192 screen lines
     7 6A32 A0 F0			ldy #240
     8 6A34			zx_dli_header_block_loop1:	
     9 6A34 B1 14			lda (RTCLOCK_0),y
    10 6A36 69 05			adc #5
    11 6A38 29 0F			and #$0f
    12 6A3A A2 43			ldx #COLOR_RED
    13 6A3C 8E 1A D0			stx DLI_FRAME
    14 6A3F			zx_dli_header_block_loop2:	
    15 6A3F				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A3F 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    16 6A42 88				dey
    17 6A43 F0 1C			beq zx_dli_header_block_end
    18 6A45 E9 01			sbc #1
    19 6A47 D0 F6			bne zx_dli_header_block_loop2
    20
    21 6A49			zx_dli_header_block_loop3:	
    22 6A49 B1 14			lda (RTCLOCK_0),y
    23 6A4B 69 05			adc #5
    24 6A4D 29 0F			and #$0f
    25 6A4F A2 AC			ldx #COLOR_CYAN
    26 6A51 8E 1A D0			stx DLI_FRAME
    27 6A54			zx_dli_header_block_loop4:	
    28 6A54				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A54 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    29 6A57 88				dey
    30 6A58 F0 07			beq zx_dli_header_block_end
    31 6A5A E9 01			sbc #1
    32 6A5C D0 F6			bne zx_dli_header_block_loop4
    33 6A5E 4C 34 6A			jmp zx_dli_header_block_loop1
    34
    35 6A61			zx_dli_header_block_end:
    36 6A61				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A61 68				pla
     2 6A62 A8				tay
     3 6A63 68				pla
     4 6A64 AA				tax
     5 6A65 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    37 6A66 40				rti
    38 					
    39 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    40
    41 6A67			zx_dli_data_block:
    42
    43 6A67				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A67 48				pha
     2 6A68 8A				txa
     3 6A69 48				pha
     4 6A6A 98				tya
     5 6A6B 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    44
    45 					; 192 screen lines
    46 6A6C A0 F0			ldy #240
    47 6A6E			zx_dli_data_block_loop1:	
    48 6A6E B1 13			lda (RTCLOCK_1),y
    49 6A70 69 03			adc #3
    50 6A72 29 07			and #$07
    51 6A74 A2 43			ldx #COLOR_RED
    52 6A76 8E 1A D0			stx DLI_FRAME
    53 6A79			zx_dli_data_block_loop2:	
    54 6A79				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A79 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    55 6A7C 88				dey
    56 6A7D F0 1C			beq zx_dli_data_block_end
    57 6A7F E9 01			sbc #1
    58 6A81 D0 F6			bne zx_dli_data_block_loop2
    59
    60 6A83			zx_dli_data_block_loop3:	
    61 6A83 B1 14			lda (RTCLOCK_0),y
    62 6A85 69 05			adc #5
    63 6A87 29 0F			and #$0f
    64 6A89 A2 AC			ldx #COLOR_CYAN
    65 6A8B 8E 1A D0			stx DLI_FRAME
    66 6A8E			zx_dli_data_block_loop4:	
    67 6A8E				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A8E 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    68 6A91 88				dey
    69 6A92 F0 07			beq zx_dli_data_block_end
    70 6A94 E9 01			sbc #1
    71 6A96 D0 F6			bne zx_dli_data_block_loop4
    72 6A98 4C 6E 6A			jmp zx_dli_data_block_loop1
    73
    74 6A9B			zx_dli_data_block_end:
    75 6A9B				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A9B 68				pla
     2 6A9C A8				tay
     3 6A9D 68				pla
     4 6A9E AA				tax
     5 6A9F 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    76 6AA0 40				rti
    77 					
    78 					
    79 						
    80 					
    81 					
    82 					
    83 					
    84 					
    85 					
    29
