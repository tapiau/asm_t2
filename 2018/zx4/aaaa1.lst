mads 2.0.6 build 58 (28 Jan 17)
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\aaaa1.asm
     1 					ICL 'macro.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm
     1 				.MACRO REG_PUSH 
     2 					pha
     3 					txa
     4 					pha
     5 					tya
     6 					pha
     7 				.ENDM
     8
     9 				.MACRO REG_PULL
    10 					pla
    11 					tay
    12 					pla
    13 					tax
    14 					pla
    15 				.ENDM
    16
    17 				.MACRO SLEEP frames
    18 					lda RTCLOCK_0
    19 					add #:frames
    20 				SLEEP_LOOP:
    21 					cmp RTCLOCK_0
    22 					bne SLEEP_LOOP
    23 				.ENDM
    24
    25 				.MACRO LINE_SPACE_9_CYCLES
    26 					nop
    27 					nop
    28 					nop
    29 					sta bar_color20	; 3 cycles
    30 				.ENDM
    31
    32 				.MACRO LINE_SPACE_10_CYCLES
    33 					nop
    34 					nop
    35 					nop
    36 					nop
    37 					nop
    38 				.ENDM
    39
    40 				.MACRO LINE_SPACE_11_CYCLES
    41 					nop
    42 					nop
    43 					nop
    44 					nop
    45 					sta bar_color20	; 3 cycles
    46 				.ENDM
    47
    48 				.MACRO LINE_WAIT
    49 					sta WSYNC	;WAIT
    50 				.ENDM
    51
    52 				.MACRO LINE_COLOR_CALC
    53 					dex
    54 					dey
    55 				.ENDM
    56
    57 				.MACRO LINE_NOP_HALF
    58 					LINE_WAIT
    59 				
    60 					;; 4 nops
    61 					LINE_COLOR_CALC
    62 					
    63 					LINE_NOP_SPACE_1
    64 					
    65 					sta bar_color20	; 3 cycles
    66 					stx DLI_PAPER	; 4 cycles
    67 				;	stx DLI_PEN	; 4 cycles
    68 					LINE_NOP_SPACE_2
    69 					sty DLI_PAPER	; 4 cycles
    70 				;	sty DLI_PEN	; 4 cycles
    71 				.ENDM
    72
    73 				.MACRO LINE_NOP_NORMAL
    74 					LINE_WAIT
    75 					LINE_COLOR_CALC
    76 					sty COLPM0
    77 					sty COLPM1
    78 					stx COLPM2
    79 					stx COLPM3
    80 					stx DLI_PAPER	; 4 cycles
    81 					LINE_SPACE_10_CYCLES
    82 					nop
    83 					sty DLI_PAPER	; 4 cycles
    84 				.ENDM
    85
    86 				.MACRO LINE_NOP_SHORT
    87 					LINE_WAIT
    88 					LINE_COLOR_CALC
    89 					sty COLPM0
    90 					sty COLPM1
    91 					stx COLPM2
    92 					stx COLPM3
    93 					stx DLI_PAPER	; 4 cycles
    94 					LINE_SPACE_10_CYCLES
    95 					sty DLI_PAPER	; 4 cycles
    96 				.ENDM
    97
    98 				.MACRO LINE_NOP_LAST
    99 					LINE_WAIT
   100 					stx DLI_PAPER	; 4 cycles
   101 					lda #1
   102 					sta COLPM0
   103 					sta COLPM1
   104 					sta COLPM2
   105 					sta COLPM3
   106 					LINE_SPACE_10_CYCLES
   107 					nop
   108 					sty DLI_PAPER	; 4 cycles
   109 				.ENDM
   110
   111 				.MACRO DLI_ENABLE handler
   112 					mwa #:handler VDSLST
   113 					lda #$c0
   114 					sta NMIEN
   115 				.ENDM
   116
   117 				.MACRO DLI_DISABLE
   118 					lda #$40
   119 					sta NMIEN
   120 				.ENDM
     2
     3 					org $2000
     4
     5 					.proc main
     6 					
     7 FFFF> 2000-26F1> 20 98 + 	jsr dl_set_mode	
     8 2003 20 10 20			jsr zx
     9
    10 2006 20 98 39			jsr dl_set_mode
    11 2009 20 07 68			jsr part1
    12 200C 20 35 6A			jsr part2
    13 					
    14 200F 60				rts
    15
    16 					.endp
    17 					
    18 2010				ICL 'zx.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx.asm
     1 2010			zx:
     2 2010 A9 00			lda #COLOR_BLACK     
     3 2012 8D C5 02			sta GR8_PEN
     4 2015 A9 0E			lda #COLOR_WHITE     
     5 2017 8D C6 02			sta GR8_PAPER
     6 201A A9 0E			lda #COLOR_WHITE     
     7 201C 8D C8 02			sta GR8_FRAME
     8
     9 201F 20 D5 26			jsr screen_set_write_1
    10 2022 20 CA 26			jsr screen_set_read_1
    11 					
    12 2025			zx_loop:
    13
    14 2025				ICL "zx_boot.asm"
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     1 2025 A9 0E			lda #COLOR_WHITE
     2 2027 8D C8 02			sta GR8_FRAME
     3 202A 20 A3 26			jsr screen_fill
     4 202D				SLEEP 50
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 202D A5 14			lda RTCLOCK_0
     2 202F 18 69 32			add #50
     3 2032			SLEEP_LOOP:
     4 2032 C5 14			cmp RTCLOCK_0
     5 2034 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     5 2036 20 7C 26			jsr screen_clear
     6 					
     7 2039				ZX_PRINT 96 0 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2039 A9 60			lda #96
     2 203B A2 00			ldx #0
     3 203D A0 17			ldy #23
     4 203F 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     8 2042				ZX_PRINT '2'-32 2 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2042 A9 12			lda #'2'-32
     2 2044 A2 02			ldx #2
     3 2046 A0 17			ldy #23
     4 2048 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
     9 204B				ZX_PRINT '0'-32 3 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 204B A9 10			lda #'0'-32
     2 204D A2 03			ldx #3
     3 204F A0 17			ldy #23
     4 2051 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    10 2054				ZX_PRINT '1'-32 4 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2054 A9 11			lda #'1'-32
     2 2056 A2 04			ldx #4
     3 2058 A0 17			ldy #23
     4 205A 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    11 205D				ZX_PRINT '8'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 205D A9 18			lda #'8'-32
     2 205F A2 05			ldx #5
     3 2061 A0 17			ldy #23
     4 2063 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    12
    13 2066				ZX_PRINT 'G'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2066 A9 27			lda #'G'-32
     2 2068 A2 07			ldx #7
     3 206A A0 17			ldy #23
     4 206C 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    14 206F				ZX_PRINT 'o'-32 8 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 206F A9 4F			lda #'o'-32
     2 2071 A2 08			ldx #8
     3 2073 A0 17			ldy #23
     4 2075 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    15 2078				ZX_PRINT 'm'-32 9 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2078 A9 4D			lda #'m'-32
     2 207A A2 09			ldx #9
     3 207C A0 17			ldy #23
     4 207E 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    16 2081				ZX_PRINT 'i'-32 10 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2081 A9 49			lda #'i'-32
     2 2083 A2 0A			ldx #10
     3 2085 A0 17			ldy #23
     4 2087 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    17 208A				ZX_PRINT 'b'-32 11 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 208A A9 42			lda #'b'-32
     2 208C A2 0B			ldx #11
     3 208E A0 17			ldy #23
     4 2090 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    18 2093				ZX_PRINT 'o'-32 12 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2093 A9 4F			lda #'o'-32
     2 2095 A2 0C			ldx #12
     3 2097 A0 17			ldy #23
     4 2099 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    19 209C				ZX_PRINT 'y'-32 13 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 209C A9 59			lda #'y'-32
     2 209E A2 0D			ldx #13
     3 20A0 A0 17			ldy #23
     4 20A2 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    20
    21 20A5				ZX_PRINT 'R'-32 15 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20A5 A9 32			lda #'R'-32
     2 20A7 A2 0F			ldx #15
     3 20A9 A0 17			ldy #23
     4 20AB 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    22 20AE				ZX_PRINT 'e'-32 16 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20AE A9 45			lda #'e'-32
     2 20B0 A2 10			ldx #16
     3 20B2 A0 17			ldy #23
     4 20B4 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    23 20B7				ZX_PRINT 's'-32 17 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20B7 A9 53			lda #'s'-32
     2 20B9 A2 11			ldx #17
     3 20BB A0 17			ldy #23
     4 20BD 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    24 20C0				ZX_PRINT 'e'-32 18 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20C0 A9 45			lda #'e'-32
     2 20C2 A2 12			ldx #18
     3 20C4 A0 17			ldy #23
     4 20C6 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    25 20C9				ZX_PRINT 'a'-32 19 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20C9 A9 41			lda #'a'-32
     2 20CB A2 13			ldx #19
     3 20CD A0 17			ldy #23
     4 20CF 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    26 20D2				ZX_PRINT 'r'-32 20 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20D2 A9 52			lda #'r'-32
     2 20D4 A2 14			ldx #20
     3 20D6 A0 17			ldy #23
     4 20D8 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    27 20DB				ZX_PRINT 'c'-32 21 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20DB A9 43			lda #'c'-32
     2 20DD A2 15			ldx #21
     3 20DF A0 17			ldy #23
     4 20E1 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    28 20E4				ZX_PRINT 'h'-32 22 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20E4 A9 48			lda #'h'-32
     2 20E6 A2 16			ldx #22
     3 20E8 A0 17			ldy #23
     4 20EA 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    29
    30 20ED				ZX_PRINT 'L'-32 24 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20ED A9 2C			lda #'L'-32
     2 20EF A2 18			ldx #24
     3 20F1 A0 17			ldy #23
     4 20F3 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    31 20F6				ZX_PRINT 't'-32 25 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20F6 A9 54			lda #'t'-32
     2 20F8 A2 19			ldx #25
     3 20FA A0 17			ldy #23
     4 20FC 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    32 20FF				ZX_PRINT 'd'-32 26 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 20FF A9 44			lda #'d'-32
     2 2101 A2 1A			ldx #26
     3 2103 A0 17			ldy #23
     4 2105 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    33 					
    34 2108				SLEEP 50
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2108 A5 14			lda RTCLOCK_0
     2 210A 18 69 32			add #50
     3 210D			SLEEP_LOOP:
     4 210D C5 14			cmp RTCLOCK_0
     5 210F D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    35
    36 2111 20 7C 26			jsr screen_clear
    37 					
    38 2114				ZX_PRINT 'L'-32 0 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2114 A9 2C			lda #'L'-32
     2 2116 A2 00			ldx #0
     3 2118 A0 17			ldy #23
     4 211A 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    39 211D				ZX_PRINT 'O'-32 1 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 211D A9 2F			lda #'O'-32
     2 211F A2 01			ldx #1
     3 2121 A0 17			ldy #23
     4 2123 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    40 2126				ZX_PRINT 'A'-32 2 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2126 A9 21			lda #'A'-32
     2 2128 A2 02			ldx #2
     3 212A A0 17			ldy #23
     4 212C 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    41 212F				ZX_PRINT 'D'-32 3 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 212F A9 24			lda #'D'-32
     2 2131 A2 03			ldx #3
     3 2133 A0 17			ldy #23
     4 2135 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    42 2138				ZX_PRINT ' '-32 4 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2138 A9 00			lda #' '-32
     2 213A A2 04			ldx #4
     3 213C A0 17			ldy #23
     4 213E 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    43 2141				ZX_PRINT_INV 'L'-32 5 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2141 A9 2C			lda #'L'-32
     2 2143 A2 05			ldx #5
     3 2145 A0 17			ldy #23
     4 2147 20 0B 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    44 214A				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 214A A5 14			lda RTCLOCK_0
     2 214C 18 69 19			add #25
     3 214F			SLEEP_LOOP:
     4 214F C5 14			cmp RTCLOCK_0
     5 2151 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    45 2153				ZX_PRINT 'L'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2153 A9 2C			lda #'L'-32
     2 2155 A2 05			ldx #5
     3 2157 A0 17			ldy #23
     4 2159 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    46 215C				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 215C A5 14			lda RTCLOCK_0
     2 215E 18 69 19			add #25
     3 2161			SLEEP_LOOP:
     4 2161 C5 14			cmp RTCLOCK_0
     5 2163 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    47 2165				ZX_PRINT_INV 'L'-32 5 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2165 A9 2C			lda #'L'-32
     2 2167 A2 05			ldx #5
     3 2169 A0 17			ldy #23
     4 216B 20 0B 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    48 216E				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 216E A5 14			lda RTCLOCK_0
     2 2170 18 69 19			add #25
     3 2173			SLEEP_LOOP:
     4 2173 C5 14			cmp RTCLOCK_0
     5 2175 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    49 2177				ZX_PRINT 'L'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2177 A9 2C			lda #'L'-32
     2 2179 A2 05			ldx #5
     3 217B A0 17			ldy #23
     4 217D 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    50 2180				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2180 A5 14			lda RTCLOCK_0
     2 2182 18 69 19			add #25
     3 2185			SLEEP_LOOP:
     4 2185 C5 14			cmp RTCLOCK_0
     5 2187 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    51 2189				ZX_PRINT '"'-32 5 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2189 A9 02			lda #'"'-32
     2 218B A2 05			ldx #5
     3 218D A0 17			ldy #23
     4 218F 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    52 2192				ZX_PRINT_INV 'L'-32 6 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2192 A9 2C			lda #'L'-32
     2 2194 A2 06			ldx #6
     3 2196 A0 17			ldy #23
     4 2198 20 0B 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    53 219B				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 219B A5 14			lda RTCLOCK_0
     2 219D 18 69 19			add #25
     3 21A0			SLEEP_LOOP:
     4 21A0 C5 14			cmp RTCLOCK_0
     5 21A2 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    54 21A4				ZX_PRINT '"'-32 6 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21A4 A9 02			lda #'"'-32
     2 21A6 A2 06			ldx #6
     3 21A8 A0 17			ldy #23
     4 21AA 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    55 21AD				ZX_PRINT_INV 'L'-32 7 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21AD A9 2C			lda #'L'-32
     2 21AF A2 07			ldx #7
     3 21B1 A0 17			ldy #23
     4 21B3 20 0B 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    56 21B6				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21B6 A5 14			lda RTCLOCK_0
     2 21B8 18 69 19			add #25
     3 21BB			SLEEP_LOOP:
     4 21BB C5 14			cmp RTCLOCK_0
     5 21BD D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    57 21BF				ZX_PRINT 'L'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21BF A9 2C			lda #'L'-32
     2 21C1 A2 07			ldx #7
     3 21C3 A0 17			ldy #23
     4 21C5 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    58 21C8				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21C8 A5 14			lda RTCLOCK_0
     2 21CA 18 69 19			add #25
     3 21CD			SLEEP_LOOP:
     4 21CD C5 14			cmp RTCLOCK_0
     5 21CF D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    59 21D1				ZX_PRINT_INV 'L'-32 7 23
Macro: ZX_PRINT_INV [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21D1 A9 2C			lda #'L'-32
     2 21D3 A2 07			ldx #7
     3 21D5 A0 17			ldy #23
     4 21D7 20 0B 25			jsr zx_print_inv_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    60 21DA				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21DA A5 14			lda RTCLOCK_0
     2 21DC 18 69 19			add #25
     3 21DF			SLEEP_LOOP:
     4 21DF C5 14			cmp RTCLOCK_0
     5 21E1 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    61 21E3				ZX_PRINT 'L'-32 7 23
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 21E3 A9 2C			lda #'L'-32
     2 21E5 A2 07			ldx #7
     3 21E7 A0 17			ldy #23
     4 21E9 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    62 21EC				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21EC A5 14			lda RTCLOCK_0
     2 21EE 18 69 19			add #25
     3 21F1			SLEEP_LOOP:
     4 21F1 C5 14			cmp RTCLOCK_0
     5 21F3 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_boot.asm
    63 					
    64 					
    65 					
    15 21F5				ICL "zx_load.asm"	
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     1 21F5 20 7C 26			jsr screen_clear
     2 					
     3 21F8				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 21F8 A5 14			lda RTCLOCK_0
     2 21FA 18 69 19			add #25
     3 21FD			SLEEP_LOOP:
     4 21FD C5 14			cmp RTCLOCK_0
     5 21FF D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     4 2201 A9 AC			lda #COLOR_CYAN
     5 2203 8D C8 02			sta GR8_FRAME
     6 2206				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2206 A5 14			lda RTCLOCK_0
     2 2208 18 69 19			add #25
     3 220B			SLEEP_LOOP:
     4 220B C5 14			cmp RTCLOCK_0
     5 220D D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
     7 220F A9 0E			lda #COLOR_WHITE
     8 2211 8D C8 02			sta GR8_FRAME
     9 					
    10 2214				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2214 A5 14			lda RTCLOCK_0
     2 2216 18 69 19			add #25
     3 2219			SLEEP_LOOP:
     4 2219 C5 14			cmp RTCLOCK_0
     5 221B D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    11 221D A9 AC			lda #COLOR_CYAN
    12 221F 8D C8 02			sta GR8_FRAME
    13 2222				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2222 A5 14			lda RTCLOCK_0
     2 2224 18 69 19			add #25
     3 2227			SLEEP_LOOP:
     4 2227 C5 14			cmp RTCLOCK_0
     5 2229 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    14 222B A9 0E			lda #COLOR_WHITE
    15 222D 8D C8 02			sta GR8_FRAME
    16
    17 2230				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2230 A5 14			lda RTCLOCK_0
     2 2232 18 69 19			add #25
     3 2235			SLEEP_LOOP:
     4 2235 C5 14			cmp RTCLOCK_0
     5 2237 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    18 2239 A9 AC			lda #COLOR_CYAN
    19 223B 8D C8 02			sta GR8_FRAME
    20
    21 223E				DLI_ENABLE zx_dli_header_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 223E A9 48 8D 00 02 A9 + 	mwa #ZX_DLI_HEADER_BLOCK VDSLST
     2 2248 A9 C0			lda #$c0
     3 224A 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    22 224D				SLEEP 175
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 224D A5 14			lda RTCLOCK_0
     2 224F 18 69 AF			add #175
     3 2252			SLEEP_LOOP:
     4 2252 C5 14			cmp RTCLOCK_0
     5 2254 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    23 2256				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2256 A9 40			lda #$40
     2 2258 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    24 					
    25 225B				ZX_PRINT 'P'-32 0 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 225B A9 30			lda #'P'-32
     2 225D A2 00			ldx #0
     3 225F A0 00			ldy #0
     4 2261 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    26 2264				ZX_PRINT 'r'-32 1 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2264 A9 52			lda #'r'-32
     2 2266 A2 01			ldx #1
     3 2268 A0 00			ldy #0
     4 226A 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    27 226D				ZX_PRINT 'o'-32 2 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 226D A9 4F			lda #'o'-32
     2 226F A2 02			ldx #2
     3 2271 A0 00			ldy #0
     4 2273 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    28 2276				ZX_PRINT 'g'-32 3 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2276 A9 47			lda #'g'-32
     2 2278 A2 03			ldx #3
     3 227A A0 00			ldy #0
     4 227C 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    29 227F				ZX_PRINT 'r'-32 4 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 227F A9 52			lda #'r'-32
     2 2281 A2 04			ldx #4
     3 2283 A0 00			ldy #0
     4 2285 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    30 2288				ZX_PRINT 'a'-32 5 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2288 A9 41			lda #'a'-32
     2 228A A2 05			ldx #5
     3 228C A0 00			ldy #0
     4 228E 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    31 2291				ZX_PRINT 'm'-32 6 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2291 A9 4D			lda #'m'-32
     2 2293 A2 06			ldx #6
     3 2295 A0 00			ldy #0
     4 2297 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    32 229A				ZX_PRINT ':'-32 7 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 229A A9 1A			lda #':'-32
     2 229C A2 07			ldx #7
     3 229E A0 00			ldy #0
     4 22A0 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    33 					
    34 22A3				ZX_PRINT 'R'-32 9 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22A3 A9 32			lda #'R'-32
     2 22A5 A2 09			ldx #9
     3 22A7 A0 00			ldy #0
     4 22A9 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    35 22AC				ZX_PRINT 'A'-32 10 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22AC A9 21			lda #'A'-32
     2 22AE A2 0A			ldx #10
     3 22B0 A0 00			ldy #0
     4 22B2 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    36 22B5				ZX_PRINT 'I'-32 11 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22B5 A9 29			lda #'I'-32
     2 22B7 A2 0B			ldx #11
     3 22B9 A0 00			ldy #0
     4 22BB 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    37 22BE				ZX_PRINT 'N'-32 12 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22BE A9 2E			lda #'N'-32
     2 22C0 A2 0C			ldx #12
     3 22C2 A0 00			ldy #0
     4 22C4 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    38 22C7				ZX_PRINT 'B'-32 13 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22C7 A9 22			lda #'B'-32
     2 22C9 A2 0D			ldx #13
     3 22CB A0 00			ldy #0
     4 22CD 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    39 22D0				ZX_PRINT 'O'-32 14 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22D0 A9 2F			lda #'O'-32
     2 22D2 A2 0E			ldx #14
     3 22D4 A0 00			ldy #0
     4 22D6 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    40 22D9				ZX_PRINT 'W'-32 15 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22D9 A9 37			lda #'W'-32
     2 22DB A2 0F			ldx #15
     3 22DD A0 00			ldy #0
     4 22DF 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    41 22E2				ZX_PRINT 'O'-32 16 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22E2 A9 2F			lda #'O'-32
     2 22E4 A2 10			ldx #16
     3 22E6 A0 00			ldy #0
     4 22E8 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    42 22EB				ZX_PRINT 'M'-32 17 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22EB A9 2D			lda #'M'-32
     2 22ED A2 11			ldx #17
     3 22EF A0 00			ldy #0
     4 22F1 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    43 22F4				ZX_PRINT 'I'-32 18 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22F4 A9 29			lda #'I'-32
     2 22F6 A2 12			ldx #18
     3 22F8 A0 00			ldy #0
     4 22FA 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    44 22FD				ZX_PRINT 'T'-32 19 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 22FD A9 34			lda #'T'-32
     2 22FF A2 13			ldx #19
     3 2301 A0 00			ldy #0
     4 2303 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    45 2306				SLEEP 100
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2306 A5 14			lda RTCLOCK_0
     2 2308 18 69 64			add #100
     3 230B			SLEEP_LOOP:
     4 230B C5 14			cmp RTCLOCK_0
     5 230D D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    46 					
    47 230F				DLI_ENABLE zx_dli_data_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 230F A9 82 8D 00 02 A9 + 	mwa #ZX_DLI_DATA_BLOCK VDSLST
     2 2319 A9 C0			lda #$c0
     3 231B 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    48 231E				SLEEP 175
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 231E A5 14			lda RTCLOCK_0
     2 2320 18 69 AF			add #175
     3 2323			SLEEP_LOOP:
     4 2323 C5 14			cmp RTCLOCK_0
     5 2325 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    49 2327				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2327 A9 40			lda #$40
     2 2329 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load.asm
    50 					
    51 					
    52 					
    53 						
    54 					
    55 					
    16 232C				ICL "zx_load_screen.asm"	
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
     1 232C 20 7C 26			jsr screen_clear
     2 					
     3 232F				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 232F A5 14			lda RTCLOCK_0
     2 2331 18 69 19			add #25
     3 2334			SLEEP_LOOP:
     4 2334 C5 14			cmp RTCLOCK_0
     5 2336 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
     4 2338 A9 AC			lda #COLOR_CYAN
     5 233A 8D C8 02			sta GR8_FRAME
     6 233D				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 233D A5 14			lda RTCLOCK_0
     2 233F 18 69 19			add #25
     3 2342			SLEEP_LOOP:
     4 2342 C5 14			cmp RTCLOCK_0
     5 2344 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
     7 2346 A9 0E			lda #COLOR_WHITE
     8 2348 8D C8 02			sta GR8_FRAME
     9 					
    10 234B				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 234B A5 14			lda RTCLOCK_0
     2 234D 18 69 19			add #25
     3 2350			SLEEP_LOOP:
     4 2350 C5 14			cmp RTCLOCK_0
     5 2352 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    11 2354 A9 AC			lda #COLOR_CYAN
    12 2356 8D C8 02			sta GR8_FRAME
    13 2359				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2359 A5 14			lda RTCLOCK_0
     2 235B 18 69 19			add #25
     3 235E			SLEEP_LOOP:
     4 235E C5 14			cmp RTCLOCK_0
     5 2360 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    14 2362 A9 0E			lda #COLOR_WHITE
    15 2364 8D C8 02			sta GR8_FRAME
    16
    17 2367				SLEEP 25
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2367 A5 14			lda RTCLOCK_0
     2 2369 18 69 19			add #25
     3 236C			SLEEP_LOOP:
     4 236C C5 14			cmp RTCLOCK_0
     5 236E D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    18 2370 A9 AC			lda #COLOR_CYAN
    19 2372 8D C8 02			sta GR8_FRAME
    20
    21 2375				DLI_ENABLE zx_dli_header_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2375 A9 48 8D 00 02 A9 + 	mwa #ZX_DLI_HEADER_BLOCK VDSLST
     2 237F A9 C0			lda #$c0
     3 2381 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    22 2384				SLEEP 175
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2384 A5 14			lda RTCLOCK_0
     2 2386 18 69 AF			add #175
     3 2389			SLEEP_LOOP:
     4 2389 C5 14			cmp RTCLOCK_0
     5 238B D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    23 238D				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 238D A9 40			lda #$40
     2 238F 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    24 					
    25 2392				ZX_PRINT 'B'-32 0 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 2392 A9 22			lda #'B'-32
     2 2394 A2 00			ldx #0
     3 2396 A0 00			ldy #0
     4 2398 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    26 239B				ZX_PRINT 'y'-32 1 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 239B A9 59			lda #'y'-32
     2 239D A2 01			ldx #1
     3 239F A0 00			ldy #0
     4 23A1 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    27 23A4				ZX_PRINT 't'-32 2 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23A4 A9 54			lda #'t'-32
     2 23A6 A2 02			ldx #2
     3 23A8 A0 00			ldy #0
     4 23AA 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    28 23AD				ZX_PRINT 'e'-32 3 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23AD A9 45			lda #'e'-32
     2 23AF A2 03			ldx #3
     3 23B1 A0 00			ldy #0
     4 23B3 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    29 23B6				ZX_PRINT 's'-32 4 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23B6 A9 53			lda #'s'-32
     2 23B8 A2 04			ldx #4
     3 23BA A0 00			ldy #0
     4 23BC 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    30 23BF				ZX_PRINT ':'-32 5 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23BF A9 1A			lda #':'-32
     2 23C1 A2 05			ldx #5
     3 23C3 A0 00			ldy #0
     4 23C5 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    31 					
    32 23C8				ZX_PRINT 'U'-32 7 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23C8 A9 35			lda #'U'-32
     2 23CA A2 07			ldx #7
     3 23CC A0 00			ldy #0
     4 23CE 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    33 23D1				ZX_PRINT 'N'-32 8 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23D1 A9 2E			lda #'N'-32
     2 23D3 A2 08			ldx #8
     3 23D5 A0 00			ldy #0
     4 23D7 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    34 23DA				ZX_PRINT 'I'-32 9 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23DA A9 29			lda #'I'-32
     2 23DC A2 09			ldx #9
     3 23DE A0 00			ldy #0
     4 23E0 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    35 23E3				ZX_PRINT 'C'-32 10 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23E3 A9 23			lda #'C'-32
     2 23E5 A2 0A			ldx #10
     3 23E7 A0 00			ldy #0
     4 23E9 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    36 23EC				ZX_PRINT 'O'-32 11 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23EC A9 2F			lda #'O'-32
     2 23EE A2 0B			ldx #11
     3 23F0 A0 00			ldy #0
     4 23F2 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    37 23F5				ZX_PRINT 'R'-32 12 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23F5 A9 32			lda #'R'-32
     2 23F7 A2 0C			ldx #12
     3 23F9 A0 00			ldy #0
     4 23FB 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    38 23FE				ZX_PRINT 'N'-32 13 0
Macro: ZX_PRINT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm]
     1 23FE A9 2E			lda #'N'-32
     2 2400 A2 0D			ldx #13
     3 2402 A0 00			ldy #0
     4 2404 20 47 24			jsr zx_print_func
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    39 2407				SLEEP 100
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2407 A5 14			lda RTCLOCK_0
     2 2409 18 69 64			add #100
     3 240C			SLEEP_LOOP:
     4 240C C5 14			cmp RTCLOCK_0
     5 240E D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    40
    41 2410 A9 00 85 ED A9 70 + 	mwa #image_data_unicorn src
    42 2418 A9 00 85 EF A9 40 + 	mwa #screen_mem_1 dst
    43 					
    44 2420				DLI_ENABLE zx_dli_data_block
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2420 A9 82 8D 00 02 A9 + 	mwa #ZX_DLI_DATA_BLOCK VDSLST
     2 242A A9 C0			lda #$c0
     3 242C 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    45
    46 					
    47 242F 20 FB 25			jsr zx_copy_screen_block
    48 2432				SLEEP 50
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2432 A5 14			lda RTCLOCK_0
     2 2434 18 69 32			add #50
     3 2437			SLEEP_LOOP:
     4 2437 C5 14			cmp RTCLOCK_0
     5 2439 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    49
    50 243B				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 243B A9 40			lda #$40
     2 243D 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_load_screen.asm
    51 					
    17 					
    18 2440 60				rts
    19 				;	jmp zx_loop
    20 					
    21 				;	PM_SHOW
    22
    23 					
    19 2441				ICL 'zx_func.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
     1 2441 00 00		zx_print_x: dta 0,0
     2 2443 00 00		zx_print_y: dta 0,0
     3 2445 00 00		zx_print_a: dta 0,0
     4
     5 2447			zx_print_func:
     6 2447 8E 41 24			stx zx_print_x 
     7 244A 8C 43 24			sty zx_print_y 
     8 244D 8D 45 24			sta zx_print_a 
     9
    10 2450 A9 00 85 ED A9 90 + 	mwa #image_data_zx_font src
    11 2458 A5 F3 85 EF A5 F4 + 	mwa screen_adr dst
    12 					
    13 2460 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    14 246F 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    15 247E 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    16 248D 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    17 249C 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    18 24AB 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    19 24BA 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    20 24C9 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    21 					
    22 24D8 A5 F0			lda dst+1
    23 24DA 6D 43 24			adc zx_print_y
    24 24DD 85 F0			sta dst+1
    25
    26 24DF 18 A5 EF 6D 41 24 + 	ADW dst zx_print_x
    27 					
    28 24EE A2 08			ldx #8
    29 24F0 A0 00			ldy #0
    30 24F2			zx_print_func_loop:
    31 24F2 B1 ED			lda (src),y
    32 24F4 91 EF			sta (dst),y
    33 24F6 E6 ED D0 02 E6 EE		INW src
    34 24FC 18 A5 EF 69 20 85 + 	ADW dst #32
    35 2507 CA				dex
    36 2508 D0 E8			bne zx_print_func_loop
    37
    38 250A 60				rts
    39
    40 				.MACRO ZX_PRINT letter position_x position_y
    41 					lda #:letter
    42 					ldx #:position_x
    43 					ldy #:position_y
    44 					jsr zx_print_func
    45 				.ENDM
    46
    47 250B			zx_print_inv_func:
    48 250B 8D 45 24			sta zx_print_a 
    49 250E 8E 41 24			stx zx_print_x 
    50 2511 8C 43 24			sty zx_print_y 
    51
    52 2514 A9 00 85 ED A9 90 + 	mwa #image_data_zx_font src
    53 251C A5 F3 85 EF A5 F4 + 	mwa screen_adr dst
    54 					
    55 2524 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    56 2533 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    57 2542 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    58 2551 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    59 2560 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    60 256F 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    61 257E 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    62 258D 18 A5 ED 6D 45 24 + 	ADW src zx_print_a
    63 					
    64 259C A5 F0			lda dst+1
    65 259E 6D 43 24			adc zx_print_y
    66 25A1 85 F0			sta dst+1 
    67
    68 25A3 18 A5 EF 6D 41 24 + 	ADW dst zx_print_x
    69 					
    70 25B2 A2 08			ldx #8
    71 25B4 A0 00			ldy #0
    72 25B6			zx_print_inv_func_loop:
    73 25B6 B1 ED			lda (src),y
    74 25B8 49 FF			eor #$ff
    75 25BA 91 EF			sta (dst),y
    76 25BC E6 ED D0 02 E6 EE		INW src
    77 25C2 18 A5 EF 69 20 85 + 	ADW dst #32
    78 25CD CA				dex
    79 25CE D0 E6			bne zx_print_inv_func_loop
    80
    81 25D0 60				rts
    82
    83 				.MACRO ZX_PRINT_INV letter position_x position_y
    84 					lda #:letter
    85 					ldx #:position_x
    86 					ldy #:position_y
    87 					jsr zx_print_inv_func
    88 				.ENDM
    89
    90 				; src
    91 				; dst
    92 				; tmp_word (0,1)
    93 25D1			zx_copy_line:
    94 25D1				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 25D1 48				pha
     2 25D2 8A				txa
     3 25D3 48				pha
     4 25D4 98				tya
     5 25D5 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
    95 25D6 A2 08			ldx #8
    96 25D8			zx_load_screen_8_lines_loop:
    97 25D8 A0 00			ldy #0
    98 25DA			zx_load_screen_line_loop:
    99 25DA B1 ED			lda (src),y
   100 25DC 91 EF			sta (dst),y
   101 25DE C8				iny
   102 25DF 98				tya
   103 25E0 C9 20			cmp #32
   104 25E2 D0 F6			bne zx_load_screen_line_loop
   105 25E4 A5 EE			lda src+1
   106 25E6 18				clc
   107 25E7 69 01			adc #1
   108 25E9 85 EE			sta src+1
   109 25EB A5 F0			lda dst+1
   110 25ED 18				clc
   111 25EE 69 01			adc #1
   112 25F0 85 F0			sta dst+1
   113 25F2 CA				dex
   114 25F3 D0 E3			bne zx_load_screen_8_lines_loop
   115 25F5				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 25F5 68				pla
     2 25F6 A8				tay
     3 25F7 68				pla
     4 25F8 AA				tax
     5 25F9 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
   116 25FA 60				rts
   117 					
   118 25FB			zx_copy_screen_block:
   119 25FB				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 25FB 48				pha
     2 25FC 8A				txa
     3 25FD 48				pha
     4 25FE 98				tya
     5 25FF 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
   120 2600 A0 03			ldy #3
   121 2602			zx_copy_screen_block_loop0:	
   122 2602 A2 08			ldx #8
   123 2604			zx_copy_screen_block_loop1:
   124 2604 20 D1 25			jsr zx_copy_line
   125 2607 A5 ED			lda src
   126 2609 18				clc
   127 260A 69 20			adc #32
   128 260C 85 ED			sta src
   129 260E A5 EE			lda src+1
   130 2610 69 00			adc #0
   131 2612 85 EE			sta src+1
   132
   133 2614 A5 EF			lda dst
   134 2616 18				clc
   135 2617 69 20			adc #32
   136 2619 85 EF			sta dst
   137 261B A5 F0			lda dst+1
   138 261D 69 00			adc #0
   139 261F 85 F0			sta dst+1
   140
   141 2621 A5 EE			lda src+1
   142 2623 38				sec
   143 2624 E9 08			sbc #$08
   144 2626 85 EE			sta src+1
   145 2628 A5 F0			lda dst+1
   146 262A 38				sec
   147 262B E9 08			sbc #$08
   148 262D 85 F0			sta dst+1
   149 262F CA				dex
   150 2630 D0 D2			bne zx_copy_screen_block_loop1
   151 					
   152 2632 A5 EE			lda src+1
   153 2634 18				clc
   154 2635 69 07			adc #$07
   155 2637 85 EE			sta src+1
   156 2639 A5 F0			lda dst+1
   157 263B 18				clc
   158 263C 69 07			adc #$07
   159 263E 85 F0			sta dst+1
   160 					
   161 2640 88				dey
   162 2641 D0 BF			bne zx_copy_screen_block_loop0
   163 					
   164 2643				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2643 68				pla
     2 2644 A8				tay
     3 2645 68				pla
     4 2646 AA				tax
     5 2647 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_func.asm
   165 2648 60				rts
    20 2649				ICL 'func.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
     1 				; copy 256 byte block from src to dst
     2
     3 2649			memcopy_block_func:
     4 2649				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2649 48				pha
     2 264A 8A				txa
     3 264B 48				pha
     4 264C 98				tya
     5 264D 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
     5
     6 264E A0 00			ldy #0
     7 2650			memcopy_block_loop:	
     8 2650 B1 E9		 	lda (memcopy_block_src),y
     9 2652 91 EB		 	sta (memcopy_block_dst),y
    10 2654 C8			 	iny
    11 2655 D0 F9		 	bne memcopy_block_loop
    12
    13 2657			 	REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2657 68				pla
     2 2658 A8				tay
     3 2659 68				pla
     4 265A AA				tax
     5 265B 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    14 265C 60			 	rts
    15
    16 				.MACRO MEMCOPY_BLOCK src dst
    17 					mwa #:src memcopy_block_src
    18 					mwa #:dst memcopy_block_dst
    19 					
    20 					jsr memcopy_block_func
    21 				.ENDM
    22
    23 265D			memcopy_screen_func:
    24 265D				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 265D 48				pha
     2 265E 8A				txa
     3 265F 48				pha
     4 2660 98				tya
     5 2661 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    25 					
    26 2662 A2 18			ldx #24
    27 2664			memcopy_screen_func_loop:
    28 2664 20 49 26			jsr memcopy_block_func
    29 2667 A5 EA			lda memcopy_block_src+1
    30 2669 69 01			adc #1
    31 266B 85 EA			sta memcopy_block_src+1	
    32 266D A5 EC			lda memcopy_block_dst+1
    33 266F 69 01			adc #1
    34 2671 85 EC			sta memcopy_block_dst+1	
    35 2673 CA				dex
    36 2674 D0 EE			bne memcopy_screen_func_loop
    37 					
    38 2676				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 2676 68				pla
     2 2677 A8				tay
     3 2678 68				pla
     4 2679 AA				tax
     5 267A 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    39 267B 60				rts
    40
    41 				.MACRO MEMCOPY_SCREEN src dst
    42 					mwa #:src memcopy_block_src
    43 					mwa #:dst memcopy_block_dst
    44 					
    45 					jsr memcopy_screen_func	
    46 				.ENDM
    47
    48 267C			screen_clear:
    49 267C				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 267C 48				pha
     2 267D 8A				txa
     3 267E 48				pha
     4 267F 98				tya
     5 2680 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    50 2681 A5 F3 8D 92 26 A5 + 	mwa screen_adr screen_clear_loop_2+1
    51 268B A9 00			lda #0
    52 268D A2 18			ldx #24
    53 268F			screen_clear_loop_1
    54 268F A0 00			ldy #0	
    55 2691			screen_clear_loop_2	
    56 2691 99 00 00			sta $0000,y
    57 2694 C8				iny
    58 2695 D0 FA			bne screen_clear_loop_2
    59 2697 EE 93 26			inc screen_clear_loop_2+2
    60 269A CA				dex
    61 269B D0 F4			bne screen_clear_loop_2
    62 269D				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 269D 68				pla
     2 269E A8				tay
     3 269F 68				pla
     4 26A0 AA				tax
     5 26A1 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    63 26A2 60				rts	
    64
    65 26A3			screen_fill:
    66 26A3				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 26A3 48				pha
     2 26A4 8A				txa
     3 26A5 48				pha
     4 26A6 98				tya
     5 26A7 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    67 26A8 A5 F3 8D B9 26 A5 + 	mwa screen_adr screen_fill_loop_2+1
    68 26B2 A9 FF			lda #255
    69 26B4 A2 18			ldx #24
    70 26B6			screen_fill_loop_1
    71 26B6 A0 00			ldy #0	
    72 26B8			screen_fill_loop_2	
    73 26B8 99 00 00			sta $0000,y
    74 26BB C8				iny
    75 26BC D0 FA			bne screen_fill_loop_2
    76 26BE EE BA 26			inc screen_fill_loop_2+2
    77 26C1 CA				dex
    78 26C2 D0 F4			bne screen_fill_loop_2
    79 26C4				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 26C4 68				pla
     2 26C5 A8				tay
     3 26C6 68				pla
     4 26C7 AA				tax
     5 26C8 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\func.asm
    80 26C9 60				rts	
    81
    82 					
    83 26CA			screen_set_read_1:
    84 					; load display list address to register
    85 26CA A9 00 8D 30 02 A9 + 	mwa #dl_antic_1 DLIST
    86 26D4 60				rts
    87 26D5			screen_set_write_1:
    88 					; switch working buffer pointer
    89 26D5 A9 00 85 F3 A9 40 + 	mwa #screen_mem_1 screen_adr
    90 26DD 60				rts
    91
    92 26DE			screen_set_read_2:
    93 					; load display list address to register
    94 26DE A9 CC 8D 30 02 A9 + 	mwa #dl_antic_2 DLIST
    95 26E8 60				rts
    96 26E9			screen_set_write_2:	
    97 					; switch working buffer pointer
    98 26E9 A9 00 85 F3 A9 58 + 	mwa #screen_mem_2 screen_adr
    99 26F1 60				rts
   100 					
    21 26F2				ICL 'screen_mem.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\screen_mem.asm
     1 26F2				org $4000
     2
     3 = 4000			screen_mem_1 = $4000
     4 = 4800			screen_mem_1_1 = $4800
     5 = 5000			screen_mem_1_2 = $5000
     6 4000-87FF> 00 00 00 00 + 	:6144 dta 0
     7 					
     8 5800				org $5800
     9 = 5800			screen_mem_2 = $5800
    10 = 6000			screen_mem_2_1 = $6000
    11 = 6800			screen_mem_2_2 = $6800
    12 5800 00 00 00 00 00 00 + 	:6144 dta 0
    13
    14 7000				org $7000
    15 = 7000			image_data_unicorn = $7000
    16 7000				.local graphics
    17 7000 00 00 00 00 00 00 + 	ins "..\pic\unicorn2inv.gr8"
    18 					.endl
    19 					
    20 8800				org $9000
    21 9000			image_data_zx_font:
    22 9000				.local graphics
    23 9000-92FF> 00 00 00 00 + 	ins "..\pic\zx_font.fnt"
    24 					.endl
    25
    26
    22 9300				ICL 'display_list_const.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\display_list_const.asm
     1 = 0012			RTCLOCK_2 = $12
     2 = 0013			RTCLOCK_1 = $13
     3 = 0014			RTCLOCK_0 = $14
     4
     5 = 0230			DLIST   = $230
     6 = 0230			DLISTL  = $230 ; display list pointer low byte
     7 = 0231			DLISTH  = $231 ;                      high byte
     8 = 02C8			COLRBK  = $2C8
     9
    10 = D016			COLPF0	= $D016  
    11 = D017			COLPF1	= $D017  
    12 = D018			COLPF2	= $D018  
    13 = D019			COLPF3	= $D019
    14 = D01A			COLBG	= $D01A 
    15
    16 = 02C4			COLOR0	= $02C4
    17 = 02C5			COLOR1	= $02C5
    18 = 02C6			COLOR2	= $02C6
    19 = 02C7			COLOR3	= $02C7
    20 = 02C8			COLOR4 	= $02C8
    21
    22 = 022F			SDMCTL  = $022F
    23 = 022F			DMACTLS = $022F
    24 = D400			DMACTL  = $D400
    25 = 0200			VDSLST  = $0200 ; display list interrupt vector
    26 = D40E			NMEN	= $D40E
    27 = D40E			NMIEN	= $D40E ; bit 7
    28 = D40A			WSYNC   = $D40A
    29 = D40B			VCOUNT  = $D40B
    30
    31 = 02C5			GR8_PEN   = COLOR1
    32 = 02C6			GR8_PAPER = COLOR2
    33 = 02C8			GR8_FRAME = COLOR4 
    34
    35 = D017			DLI_PEN   = COLPF1
    36 = D018			DLI_PAPER = COLPF2
    37 = D01A			DLI_FRAME = COLBG 
    38
    39 = 0000			COLOR_BLACK = $00
    40 = 000E			COLOR_WHITE = $0E
    41 = 00AC			COLOR_CYAN  = $ac
    42 = 0043			COLOR_RED   = $43
    43
    44 = D012			COLPM0	= $D012
    45 = D013			COLPM1	= $D013
    46 = D014			COLPM2	= $D014
    47 = D015			COLPM3	= $D015
    48
    49 = 02C0			COLPM0S	= $02C0
    50 = 02C1			COLPM1S	= $02C1
    51 = 02C2			COLPM2S	= $02C2
    52 = 02C3			COLPM3S	= $02C3
    53
    54
    55 = D008			SIZEP0	= $D008
    56 = D009			SIZEP1	= $D009
    57 = D00A			SIZEP2	= $D00A
    58 = D00B			SIZEP3	= $D00B
    59
    60 = D00C			SIZEM	= $D00C
    61
    62 = D000			HPOSP0	= $D000
    63 = D001			HPOSP1	= $D001
    64 = D002			HPOSP2	= $D002
    65 = D003			HPOSP3	= $D003
    66
    67 = D004			HPOSM0	= $D004
    68 = D005			HPOSM1	= $D005
    69 = D006			HPOSM2	= $D006
    70 = D007			HPOSM3	= $D007
    71
    72 = D01C			VDELAY	= $D01C
    73
    74 = D01B			GTIACTL	= $D01B
    75 = 026F			GTIACTLS = $026F
    76
    77 = D01D			PMCTL	= $D01D
    78
    79 = D407			PMBASE = $D407
    80
    81 				;     SAVMSC $0058,2       (88): pointer to current screen for CIO commands
    82 				;     RAMTOP $006A        (106): start-of-ROM pointer (MSB only)
    83 				;     VDSLST $0200,2      (512): DLI vector
    84 				;     RAMSIZ $02E4        (740): permanent start-of-ROM pointer (MSB only)
    85 				;     DLISTL $D402      (54274): display list pointer low byte
    86 				;     DLISTH $D403      (54275):     "    high byte
    87 				;     HSCROL $D404      (54276): horizontal scroll register
    88 				;     VSCROL $D405      (54277): vertical scroll register
    89 				;     NMIEN  $D40E      (54286): NMI enable (DLIs)
    90 				;     
    91 				;     
    92 				;                               Shadow registers
    93 				;     
    94 				;     
    95 				;     SDLSTL $0230        (560): DLISTL
    96 				;     SDLSTH $0231        (561): DLISTH
    23 9300				ICL 'display_list.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\display_list.asm
     1
     2 9300				org $3800
     3 				; DL for first buffer	
     4 3800-39C8> F0 70 70	dl_antic_1	dta $F0,$70,$70              ; 3x8 empty scanlines + interrupt
     5 3803 4F 00 40				dta b($4f),a(screen_mem_1)   ; $0f - mode, $40 - addr of 1/3 screen bitmap 
     6 3806 0F 0F 0F 0F 0F 0F + 		:62 dta b($0f)               ; 63 lines of $0f 
     7 3844 0F					dta b($0f)                   ; 1 line of $0f + DLI 
     8 3845 4F 00 48				dta b($4f),a(screen_mem_1_1) ; $0f - mode, $40 - addr of 2/3 screen bitmap
     9 3848 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)	             ; 63 lines of $0f 
    10 3887 4F 00 50				dta b($4f),a(screen_mem_1_2) ; $0f - mode, $40 - addr of 3/3 screen bitmap
    11 388A 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f
    12 38C9 41 00 38				dta b($41),a(dl_antic_1)     ; jump to DL start
    13 				; DL for second buffer	
    14 38CC F0 70 70		dl_antic_2	dta $F0,$70,$70              ; 3x8 empty scanlines  + interrupt
    15 38CF 4F 00 58				dta b($4f),a(screen_mem_2)   ; $0f - mode, $40 - addr of 1/3 screen bitmap
    16 38D2 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f 
    17 3911 4F 00 60				dta b($4f),a(screen_mem_2_1) ; $0f - mode, $40 - addr of 2/3 screen bitmap
    18 3914 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)	             ; 63 lines of $0f 
    19 3953 4F 00 68				dta b($4f),a(screen_mem_2_2) ; $0f - mode, $40 - addr of 3/3 screen bitmap
    20 3956 0F 0F 0F 0F 0F 0F + 		:63 dta b($0f)               ; 63 lines of $0f 
    21 3995 41 CC 38				dta b($41),a(dl_antic_2)     ; jump to DL start 
    22
    23 3998			dl_set_mode
    24 3998 A9 39			lda #57
    25 399A 8D 2F 02			sta DMACTLS
    26
    27 399D A9 00			lda #COLOR_BLACK     
    28 399F 8D C5 02			sta GR8_PEN
    29 39A2 A9 00			lda #COLOR_BLACK     
    30 39A4 8D C6 02			sta GR8_PAPER
    31 39A7 A9 00			lda #COLOR_BLACK     
    32 39A9 8D C8 02			sta GR8_FRAME
    33 					
    34 39AC A9 0E			lda #COLOR_WHITE
    35 39AE 8D C5 02			sta COLOR1
    36 39B1 A9 00			lda #COLOR_BLACK
    37 39B3 8D C6 02			sta COLOR2
    38 					
    39 39B6 60				rts
    40
    41 						
    24 39B7				ICL 'wait_vsync.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\wait_vsync.asm
     1
     2
     3 39B7			wait_hsync:
     4
     5 39B7 48				pha
     6
     7 39B8 A9 52			lda #$52
     8 39BA 8D 0A D4			sta WSYNC	;WAIT
     9 39BD 68				pla
    10
    11 39BE 60				rts
    12
    13
    14 39BF			wait_vsync:
    15 39BF 48				pha
    16 39C0			wait_vsync_loop:
    17 39C0 AD 0B D4			lda VCOUNT
    18 39C3 C9 64			cmp #100
    19 39C5 D0 F9			bne wait_vsync_loop 
    20 					
    21 39C7 68				pla
    22 39C8 60				rts
    23 					
    25 39C9				ICL 'math.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\math.asm
     1 39C9				org $1D00
     2 					
     3 				;MATH_SIN_LEN = 16
     4 				;MATH_SIN_MASK = %00001111	
     5 				; math_sin dta 127,176,218,245,255,245,218,176,127,78,36,9,0,9,36,78
     6 				; math_sin dta 128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79
     7 				        
     8 				;MATH_SIN_LEN = 64
     9 				;MATH_SIN_MASK = %00111111	
    10 				;math_sin dta 128,140,152,165,176,188,198,208,218,226,234,240,245,250,253,254,255,254,253,250,245,240,234,226,218,208,198,188,176,165,152,140,128,115,103,90,79,67,57,47,37,29,21,15,10,5,2,1,0,1,2,5,10,15,21,29,37,47,57,67,79,90,103,115
    11
    12 = 0100			MATH_SIN_LEN = 256
    13 = 00FF			MATH_SIN_MASK = %11111111	
    14 1D00-1F0F> 80 83 86 89 + math_sin dta 128,131,134,137,140,143,146,149,152,155,158,162,165,167,170,173,176,179,182,185,188,190,193,196,198,201,203,206,208,211,213,215,218,220,222,224,226,228,230,232,234,235,237,238,240,241,243,244,245,246,248,249,250,250,251,252,253,253,254,254,254,255,0,0,0,0,0,255,254,254,254,253,253,252,251,250,250,249,248,246,245,244,243,241,240,238,237,235,234,232,230,228,226,224,222,220,218,215,213,211,208,206,203,201,198,196,193,190,188,185,182,179,176,173,170,167,165,162,158,155,152,149,146,143,140,137,134,131,128,124,121,118,115,112,109,106,103,100,97,93,90,88,85,82,79,76,73,70,67,65,62,59,57,54,52,49,47,44,42,40,37,35,33,31,29,27,25,23,21,20,18,17,15,14,12,11,10,9,7,6,5,5,4,3,2,2,1,1,1,0,0,0,0,0,0,0,1,1,1,2,2,3,4,5,5,6,7,9,10,11,12,14,15,17,18,20,21,23,25,27,29,31,33,35,37,40,42,44,47,49,52,54,57,59,62,65,67,70,73,76,79,82,85,88,90,93,97,100,103,106,109,112,115,118,121,124
    15
    16 = 0010			MATH_SIN_LEN_16 = 16
    17 = 000F			MATH_SIN_MASK_16 = %00001111	
    18 1E00 80 B0 DA F5 FF F5 + math_sin_16 dta 128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79,128,176,218,245,255,245,218,176,128,79,37,10,0,10,37,79
    19
    20 1F00 C0 C0 60 40 30 27 + math_192_div dta 192,192,96,64,48,39,32,28,24,22,20,18,16,15,14,13
    26 1F10				ICL 'zero.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zero.asm
     1 1F10				org $e0
     2
     3 				;zero_a	dta 0
     4 				;zero_x	dta 0
     5 				;zero_y	dta 0
     6 				;zero_1	dta 0
     7 				;zero_2	dta 0
     8 				;zero_3	dta 0
     9 00E0-00F4> 00		bar_size dta 0
    10 00E1 00			bar_color1 dta 0
    11 00E2 00			bar_color2 dta 0
    12 00E3 00			bar_color10 dta 0
    13 00E4 00			bar_color20 dta 0
    14 00E5			part1_image_data_address: 
    15 00E5 00 00			dta 0,0
    16 00E7			part1_screen_data_address: 
    17 00E7 00 00			dta 0,0
    18 00E9			memcopy_block_src:
    19 00E9 00 00			dta 0,0
    20 00EB			memcopy_block_dst:
    21 00EB 00 00			dta 0,0
    22 00ED			src:
    23 00ED 00 00			dta 0,0
    24 00EF			dst:
    25 00EF 00 00			dta 0,0
    26 00F1			tmp_word:
    27 00F1 00 00			dta 0,0
    28 00F3			screen_adr
    29 00F3 00 00			dta 0,0
    30 					
    27 00F5				ICL 'ghosts.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm
     1 00F5				org $6000
     2
     3 6000			pm_base:
     4 6000-6ABB> FF FF FF FF + 	:768 dta $FF
     5 6300			pm_missle:
     6 6300 FF FF FF FF FF FF + 	:256 dta $FF
     7 6400			pm_player0:
     8 6400 FF FF FF FF FF FF + 	:256 dta $FF
     9 6500			pm_player1:
    10 6500 FF FF FF FF FF FF + 	:256 dta $FF
    11 6600			pm_player2:
    12 6600 FF FF FF FF FF FF + 	:256 dta $FF
    13 6700			pm_player3:
    14 6700 FF FF FF FF FF FF + 	:256 dta $FF
    15 					
    16 				.MACRO PM_SHOW
    17 				
    18 					lda #$60
    19 					sta PMBASE	; PMBASE
    20 				
    21 					lda #1
    22 					sta GTIACTLS		; GTIACTLS
    23 				
    24 					; szeroko
    25 					lda #0
    26 					sta SIZEP0	; SIZEP0
    27 					lda #1
    28 					sta SIZEP1	; SIZEP0
    29 					lda #1
    30 					sta SIZEP2	; SIZEP0
    31 					lda #0
    32 					sta SIZEP3	; SIZEP0
    33 				
    34 					lda #2
    35 					sta PMCTL	; PMCTL
    36 				
    37 					lda #57
    38 					sta DMACTLS		; DMACTLS
    39 				
    40 					; 64 - begin
    41 					; 4,8,12,16
    42 					lda #68
    43 					sta HPOSP0 
    44 				
    45 					lda #88
    46 					sta HPOSP1 
    47 				
    48 					lda #150
    49 					sta HPOSP2 
    50 				
    51 					lda #180
    52 					sta HPOSP3 
    53 				
    54 					lda #14
    55 					sta COLPM0
    56 					sta COLPM1
    57 					sta COLPM2
    58 					sta COLPM3
    59 				
    60 				.ENDM
    61
    62 				.MACRO PM_HIDE
    63 					lda #0
    64 					sta HPOSP0 
    65 					sta HPOSP1 
    66 					sta HPOSP2 
    67 					sta HPOSP3 
    68 				.ENDM
    69
    70
    71 				.MACRO PM_MOVE
    72 					lda RTCLOCK_0
    73 					sta 53248
    74 				.ENDM
    75
    28 6800				ICL 'part1.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6800 00			part1_x dta 0
     2 6801 00			part1_y dta 0
     3 6802 00			part1_d dta 0
     4 6803 00			TMPCLR dta 0
     5
     6 6804 00			part1_tmpx dta 0
     7 6805 00			part1_tmpy dta 0
     8 6806 00			part1_sync: dta 0
     9
    10
    11 6807			part1:
    12 					; set handler for display list interrupt 
    13 				;	mwa #part1_dli_handler VDSLST
    14
    15 					; enable DL interrupt
    16 				;	lda #$c0
    17 				;	sta NMIEN
    18 					
    19 6807				DLI_ENABLE part1_dli_handler
Macro: DLI_ENABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6807 A9 A5 8D 00 02 A9 + 	mwa #PART1_DLI_HANDLER VDSLST
     2 6811 A9 C0			lda #$c0
     3 6813 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    20
    21 6816 A9 00			lda #COLOR_BLACK     
    22 6818 8D C5 02			sta GR8_PEN
    23 681B A9 00			lda #COLOR_BLACK     
    24 681D 8D C6 02			sta GR8_PAPER
    25 6820 A9 00			lda #COLOR_BLACK     
    26 6822 8D C8 02			sta GR8_FRAME
    27 					
    28 6825 A9 0E			lda #COLOR_WHITE
    29 6827 8D C5 02			sta COLOR1
    30 682A A9 00			lda #COLOR_BLACK
    31 682C 8D C6 02			sta COLOR2
    32
    33 682F 20 D5 26			jsr screen_set_write_1
    34 6832 20 CA 26			jsr screen_set_read_1
    35 					
    36 				;	MEMCOPY_SCREEN image_data_unicorn screen_mem_1
    37 					
    38 6835				PM_SHOW
Macro: PM_SHOW [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm]
     2 6835 A9 60			lda #$60
     3 6837 8D 07 D4			sta PMBASE	; PMBASE
     5 683A A9 01			lda #1
     6 683C 8D 6F 02			sta GTIACTLS		; GTIACTLS
     9 683F A9 00			lda #0
    10 6841 8D 08 D0			sta SIZEP0	; SIZEP0
    11 6844 A9 01			lda #1
    12 6846 8D 09 D0			sta SIZEP1	; SIZEP0
    13 6849 A9 01			lda #1
    14 684B 8D 0A D0			sta SIZEP2	; SIZEP0
    15 684E A9 00			lda #0
    16 6850 8D 0B D0			sta SIZEP3	; SIZEP0
    18 6853 A9 02			lda #2
    19 6855 8D 1D D0			sta PMCTL	; PMCTL
    21 6858 A9 39			lda #57
    22 685A 8D 2F 02			sta DMACTLS		; DMACTLS
    26 685D A9 44			lda #68
    27 685F 8D 00 D0			sta HPOSP0 
    29 6862 A9 58			lda #88
    30 6864 8D 01 D0			sta HPOSP1 
    32 6867 A9 96			lda #150
    33 6869 8D 02 D0			sta HPOSP2 
    35 686C A9 B4			lda #180
    36 686E 8D 03 D0			sta HPOSP3 
    38 6871 A9 0E			lda #14
    39 6873 8D 12 D0			sta COLPM0
    40 6876 8D 13 D0			sta COLPM1
    41 6879 8D 14 D0			sta COLPM2
    42 687C 8D 15 D0			sta COLPM3
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    39
    40
    41 687F			part1_0:
    42
    43 					
    44 687F			part1_0_idle:
    45 					
    46 					;PM_MOVE
    47 					
    48 				;	jmp part1_0_idle
    49
    50 687F				SLEEP 250
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 687F A5 14			lda RTCLOCK_0
     2 6881 18 69 FA			add #250
     3 6884			SLEEP_LOOP:
     4 6884 C5 14			cmp RTCLOCK_0
     5 6886 D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    51 6888				SLEEP 250
Macro: SLEEP [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6888 A5 14			lda RTCLOCK_0
     2 688A 18 69 FA			add #250
     3 688D			SLEEP_LOOP:
     4 688D C5 14			cmp RTCLOCK_0
     5 688F D0 FC			bne SLEEP_LOOP
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    52 					
    53 6891				DLI_DISABLE
Macro: DLI_DISABLE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6891 A9 40			lda #$40
     2 6893 8D 0E D4			sta NMIEN
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    54 6896				PM_HIDE
Macro: PM_HIDE [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\ghosts.asm]
     1 6896 A9 00			lda #0
     2 6898 8D 00 D0			sta HPOSP0 
     3 689B 8D 01 D0			sta HPOSP1 
     4 689E 8D 02 D0			sta HPOSP2 
     5 68A1 8D 03 D0			sta HPOSP3 
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    55
    56 68A4 60				rts
    57
    58 68A5			part1_dli_handler:
    59
    60 				; line:
    61 				; 32 cycles - frame (2+26+4)
    62 				; 28 cycles - screen
    63
    64 68A5				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 68A5 48				pha
     2 68A6 8A				txa
     3 68A7 48				pha
     4 68A8 98				tya
     5 68A9 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
    65 68AA A9 00			lda #COLOR_BLACK
    66 68AC 8D 18 D0			sta DLI_PAPER ; black
    67
    68
    69 					; bar size
    70 68AF A9 02			lda #2
    71 68B1 85 E0			sta bar_size
    72
    73 68B3 8D 0A D4			:1 sta WSYNC	;WAIT
    74 					
    75 68B6 A9 01			lda #1
    76 68B8 8D 12 D0			sta COLPM0
    77 68BB 8D 13 D0			sta COLPM1
    78 68BE 8D 14 D0			sta COLPM2
    79 68C1 8D 15 D0			sta COLPM3
    80
    81 					; cycle begin
    82 68C4 A2 01			ldx #1
    83 68C6 8D 0A D4			:1 sta WSYNC	;WAIT
    84
    85 				;	lda math_sin_16,x
    86 				;	:4 lsr
    87 				;	adc #1
    88 				;	tax
    89
    90 68C9 8D 0A D4			:1 sta WSYNC
    91 					
    92 68CC A5 13			lda RTCLOCK_1
    93 68CE 8D C0 02			sta 704		; KOLOR
    94
    95 68D1 8D 0A D4 8D 0A D4 + 	:18 sta WSYNC	;WAIT
    96
    97 					; init color value
    98 6907 A4 14			ldy RTCLOCK_0
    99 6909 B9 00 1D			lda math_sin,y
   100 690C 85 E1			sta bar_color1
   101 690E 98				tya
   102 690F 49 FF			eor #$ff
   103 6911 A8				tay
   104 6912 B9 00 1D			lda math_sin,y
   105 6915 85 E2			sta bar_color2
   106
   107 6917 8D 0A D4			:1 sta WSYNC	;WAIT
   108
   109 					; 192 screen lines
   110
   111
   112 691A A6 E1			ldx bar_color1
   113 691C A4 E2			ldy bar_color2
   114
   115 691E				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 691E 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 6921 CA				dex
     2 6922 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6923 8C 12 D0			sty COLPM0
     4 6926 8C 13 D0			sty COLPM1
     5 6929 8E 14 D0			stx COLPM2
     6 692C 8E 15 D0			stx COLPM3
     7 692F 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 6932 EA				nop
     2 6933 EA				nop
     3 6934 EA				nop
     4 6935 EA				nop
     5 6936 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6937 EA				nop
    10 6938 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   116 693B				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 693B 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 693E CA				dex
     2 693F 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6940 8C 12 D0			sty COLPM0
     4 6943 8C 13 D0			sty COLPM1
     5 6946 8E 14 D0			stx COLPM2
     6 6949 8E 15 D0			stx COLPM3
     7 694C 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 694F EA				nop
     2 6950 EA				nop
     3 6951 EA				nop
     4 6952 EA				nop
     5 6953 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6954 EA				nop
    10 6955 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   117
   118 6958 A9 38			lda #56
   119 695A			dli_handler_loop_0:
   120 695A				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 695A 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 695D CA				dex
     2 695E 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 695F 8C 12 D0			sty COLPM0
     4 6962 8C 13 D0			sty COLPM1
     5 6965 8E 14 D0			stx COLPM2
     6 6968 8E 15 D0			stx COLPM3
     7 696B 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 696E EA				nop
     2 696F EA				nop
     3 6970 EA				nop
     4 6971 EA				nop
     5 6972 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6973 EA				nop
    10 6974 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   121 6977 E9 01			sbc #1
   122 6979 D0 DF			bne dli_handler_loop_0
   123
   124 697B				LINE_NOP_SHORT
Macro: LINE_NOP_SHORT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 697B 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 697E CA				dex
     2 697F 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 6980 8C 12 D0			sty COLPM0
     4 6983 8C 13 D0			sty COLPM1
     5 6986 8E 14 D0			stx COLPM2
     6 6989 8E 15 D0			stx COLPM3
     7 698C 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 698F EA				nop
     2 6990 EA				nop
     3 6991 EA				nop
     4 6992 EA				nop
     5 6993 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6994 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   125
   126 6997 A9 3F			lda #63
   127 6999			dli_handler_loop_1:
   128 6999				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6999 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 699C CA				dex
     2 699D 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 699E 8C 12 D0			sty COLPM0
     4 69A1 8C 13 D0			sty COLPM1
     5 69A4 8E 14 D0			stx COLPM2
     6 69A7 8E 15 D0			stx COLPM3
     7 69AA 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69AD EA				nop
     2 69AE EA				nop
     3 69AF EA				nop
     4 69B0 EA				nop
     5 69B1 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69B2 EA				nop
    10 69B3 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   129 69B6 E9 01			sbc #1
   130 69B8 D0 DF			bne dli_handler_loop_1
   131 69BA				LINE_NOP_SHORT
Macro: LINE_NOP_SHORT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69BA 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 69BD CA				dex
     2 69BE 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 69BF 8C 12 D0			sty COLPM0
     4 69C2 8C 13 D0			sty COLPM1
     5 69C5 8E 14 D0			stx COLPM2
     6 69C8 8E 15 D0			stx COLPM3
     7 69CB 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69CE EA				nop
     2 69CF EA				nop
     3 69D0 EA				nop
     4 69D1 EA				nop
     5 69D2 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69D3 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   132
   133 69D6 A9 3E			lda #62
   134 69D8			dli_handler_loop_2:
   135 69D8				LINE_NOP_NORMAL
Macro: LINE_NOP_NORMAL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69D8 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     1 69DB CA				dex
     2 69DC 88				dey
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     3 69DD 8C 12 D0			sty COLPM0
     4 69E0 8C 13 D0			sty COLPM1
     5 69E3 8E 14 D0			stx COLPM2
     6 69E6 8E 15 D0			stx COLPM3
     7 69E9 8E 18 D0			stx DLI_PAPER	; 4 cycles
     1 69EC EA				nop
     2 69ED EA				nop
     3 69EE EA				nop
     4 69EF EA				nop
     5 69F0 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 69F1 EA				nop
    10 69F2 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   136 69F5 E9 01			sbc #1
   137 69F7 D0 DF			bne dli_handler_loop_2
   138
   139 				;	LINE_NOP_SHORT
   140 					
   141 69F9				LINE_NOP_LAST
Macro: LINE_NOP_LAST [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 69F9 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     2 69FC 8E 18 D0			stx DLI_PAPER	; 4 cycles
     3 69FF A9 01			lda #1
     4 6A01 8D 12 D0			sta COLPM0
     5 6A04 8D 13 D0			sta COLPM1
     6 6A07 8D 14 D0			sta COLPM2
     7 6A0A 8D 15 D0			sta COLPM3
     1 6A0D EA				nop
     2 6A0E EA				nop
     3 6A0F EA				nop
     4 6A10 EA				nop
     5 6A11 EA				nop
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
     9 6A12 EA				nop
    10 6A13 8C 18 D0			sty DLI_PAPER	; 4 cycles
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   142
   143 6A16 A9 01			lda #1
   144 6A18 8D 12 D0			sta COLPM0
   145 6A1B 8D 13 D0			sta COLPM1
   146 6A1E 8D 14 D0			sta COLPM2
   147 6A21 8D 15 D0			sta COLPM3
   148
   149 6A24				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A24 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   150 					
   151
   152 6A27				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A27 68				pla
     2 6A28 A8				tay
     3 6A29 68				pla
     4 6A2A AA				tax
     5 6A2B 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part1.asm
   153 6A2C 40				rti
   154 					
   155 					
   156 					
    29 6A2D				ICL 'part2.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\part2.asm
     1
     2 6A2D			part2_greets: 
     3 6A2D 67 72 65 65 65 74 + 	dta c'greeets',0
     4
     5 6A35			part2:
     6 6A35 A9 85 00			mva #part2_greets src
     7
     8 6A38 A0 00			ldy #0
     9 6A3A B1 ED			lda (src),y
    10 6A3C F0 09			beq part2_end
    11 					
    12 6A3E E9 20			sbc #32
    13 6A40 A2 00			ldx #:position_x
    14 6A42 A0 00			ldy #:position_y
    15 6A44 20 47 24			jsr zx_print_func
    16 					
    17 					
    18 					
    19 					
    20 					
    21 6A47			part2_end:
    22 6A47 60				rts
    23 					
    30 6A48				ICL 'zx_dli.asm'
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
     1
     2 6A48			zx_dli_header_block:
     3
     4 6A48				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A48 48				pha
     2 6A49 8A				txa
     3 6A4A 48				pha
     4 6A4B 98				tya
     5 6A4C 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
     5
     6 					; 192 screen lines
     7 6A4D A0 F0			ldy #240
     8 6A4F			zx_dli_header_block_loop1:	
     9 6A4F B1 14			lda (RTCLOCK_0),y
    10 6A51 69 05			adc #5
    11 6A53 29 0F			and #$0f
    12 6A55 A2 43			ldx #COLOR_RED
    13 6A57 8E 1A D0			stx DLI_FRAME
    14 6A5A			zx_dli_header_block_loop2:	
    15 6A5A				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A5A 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    16 6A5D 88				dey
    17 6A5E F0 1C			beq zx_dli_header_block_end
    18 6A60 E9 01			sbc #1
    19 6A62 D0 F6			bne zx_dli_header_block_loop2
    20
    21 6A64			zx_dli_header_block_loop3:	
    22 6A64 B1 14			lda (RTCLOCK_0),y
    23 6A66 69 05			adc #5
    24 6A68 29 0F			and #$0f
    25 6A6A A2 AC			ldx #COLOR_CYAN
    26 6A6C 8E 1A D0			stx DLI_FRAME
    27 6A6F			zx_dli_header_block_loop4:	
    28 6A6F				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A6F 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    29 6A72 88				dey
    30 6A73 F0 07			beq zx_dli_header_block_end
    31 6A75 E9 01			sbc #1
    32 6A77 D0 F6			bne zx_dli_header_block_loop4
    33 6A79 4C 4F 6A			jmp zx_dli_header_block_loop1
    34
    35 6A7C			zx_dli_header_block_end:
    36 6A7C				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A7C 68				pla
     2 6A7D A8				tay
     3 6A7E 68				pla
     4 6A7F AA				tax
     5 6A80 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    37 6A81 40				rti
    38 					
    39 				;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
    40
    41 6A82			zx_dli_data_block:
    42
    43 6A82				REG_PUSH
Macro: REG_PUSH [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A82 48				pha
     2 6A83 8A				txa
     3 6A84 48				pha
     4 6A85 98				tya
     5 6A86 48				pha
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    44
    45 					; 192 screen lines
    46 6A87 A0 F0			ldy #240
    47 6A89			zx_dli_data_block_loop1:	
    48 6A89 B1 13			lda (RTCLOCK_1),y
    49 6A8B 69 03			adc #3
    50 6A8D 29 07			and #$07
    51 6A8F A2 43			ldx #COLOR_RED
    52 6A91 8E 1A D0			stx DLI_FRAME
    53 6A94			zx_dli_data_block_loop2:	
    54 6A94				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6A94 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    55 6A97 88				dey
    56 6A98 F0 1C			beq zx_dli_data_block_end
    57 6A9A E9 01			sbc #1
    58 6A9C D0 F6			bne zx_dli_data_block_loop2
    59
    60 6A9E			zx_dli_data_block_loop3:	
    61 6A9E B1 14			lda (RTCLOCK_0),y
    62 6AA0 69 05			adc #5
    63 6AA2 29 0F			and #$0f
    64 6AA4 A2 AC			ldx #COLOR_CYAN
    65 6AA6 8E 1A D0			stx DLI_FRAME
    66 6AA9			zx_dli_data_block_loop4:	
    67 6AA9				LINE_WAIT
Macro: LINE_WAIT [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6AA9 8D 0A D4			sta WSYNC	;WAIT
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    68 6AAC 88				dey
    69 6AAD F0 07			beq zx_dli_data_block_end
    70 6AAF E9 01			sbc #1
    71 6AB1 D0 F6			bne zx_dli_data_block_loop4
    72 6AB3 4C 89 6A			jmp zx_dli_data_block_loop1
    73
    74 6AB6			zx_dli_data_block_end:
    75 6AB6				REG_PULL
Macro: REG_PULL [Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\macro.asm]
     1 6AB6 68				pla
     2 6AB7 A8				tay
     3 6AB8 68				pla
     4 6AB9 AA				tax
     5 6ABA 68				pla
Source: C:\jac\wudsn\Workspace\Atari800\asm_t2\zx4\zx_dli.asm
    76 6ABB 40				rti
    77 					
    78 					
    79 						
    80 					
    81 					
    82 					
    83 					
    84 					
    85 					
    31
